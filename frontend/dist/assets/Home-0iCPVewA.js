import{r as m,a as y,b,c as W,j as e,d as E,e as F,f as w,L as C,P as $,F as A,g as B,h as D,i as O,k as T,l as I,m as L,n as M,o as q}from"./index-CzXlKqXq.js";import{P as R}from"./ProductCard-DuA5BsV3.js";const G=({title:r,description:i,keywords:c,image:o,url:h,type:l="website",price:j,availability:n})=>{m.useEffect(()=>{document.title=`${r} | Capsule Corp`;const d=(x,u,p=!1)=>{if(!u)return;const g=p?"property":"name";let f=document.querySelector(`meta[${g}="${x}"]`);f?f.setAttribute("content",u):(f=document.createElement("meta"),f.setAttribute(g,x),f.setAttribute("content",u),document.head.appendChild(f))};if(d("description",i),d("keywords",c),d("og:title",r,!0),d("og:description",i,!0),d("og:image",o,!0),d("og:url",h,!0),d("og:type",l,!0),d("twitter:title",r,!0),d("twitter:description",i,!0),d("twitter:image",o,!0),l==="product"&&j){const x={"@context":"https://schema.org/","@type":"Product",name:r,description:i,image:o,offers:{"@type":"Offer",price:j,priceCurrency:"USD",availability:n||"https://schema.org/InStock",seller:{"@type":"Organization",name:"Capsule Corp"}}};let u=document.querySelector("#structured-data");u?u.textContent=JSON.stringify(x):(u=document.createElement("script"),u.id="structured-data",u.type="application/ld+json",u.textContent=JSON.stringify(x),document.head.appendChild(u))}return()=>{document.title="Capsule Corp - Premium Dragon Ball Z Tech & Gear"}},[r,i,c,o,h,l,j,n])};function H(){const{isDarkMode:r}=y(),{user:i}=b(),c=W(),o=()=>{console.log("üõçÔ∏è Shop Now clicked - navigating to /products"),c("/products")},h=()=>{console.log("üíñ Wishlist clicked"),c("/wishlist")},l=()=>{console.log("üì¶ Order History clicked"),c("/order-history")};return e.jsxs("section",{className:"section",children:[e.jsx("div",{className:"overlayDark"}),e.jsx("div",{className:"overlayFade"}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-12 sm:py-20 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-center",children:[e.jsx("div",{className:"lg:col-span-7 text-center lg:text-left",children:e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsx("h1",{className:"title",children:i?"WELCOME BACK, WARRIOR!":"SUMMER SAIYAN SALE"}),e.jsx("p",{className:"subtitle",children:i?`Ready to power up your training, ${i.displayName||"Saiyan"}? Check out our latest gear and exclusive offers!`:"Power up your training with legendary gear! Up to 50% off battle equipment and capsule technology."}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:e.jsx("button",{onClick:o,className:"primaryBtn kamehameha-glow",children:"Shop Now"})}),i&&e.jsxs("div",{className:"flex flex-wrap gap-3 justify-center lg:justify-start pt-4",children:[e.jsx("button",{onClick:h,className:"smallBtn kamehameha-glow",children:"üíñ My Wishlist"}),e.jsx("button",{onClick:l,className:"smallBtn kamehameha-glow",children:"üì¶ Order History"})]}),e.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-6 pt-6",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"pulseOrb"}),e.jsx("div",{className:"redOrb"}),e.jsx("div",{className:"blueOrb"}),e.jsx("div",{className:"greenOrb"})]}),e.jsx("span",{className:"collectText",children:"Collect all 7 Dragon Balls"})]})]})}),e.jsx("div",{className:"lg:col-span-5 order-first lg:order-last",children:e.jsxs("div",{className:"relative max-w-md mx-auto lg:max-w-none",children:[e.jsx("img",{className:"heroImage",src:"https://res.cloudinary.com/dx8wt3el4/image/upload/v1761211841/Firefly_-photorealistic_shot_of_the_Capsule_Corporation_headquarters_from_Dragon_Ball_Z_a_ma_554083_eoqshv.jpg",alt:"Capsule Corp Building",loading:"eager"}),e.jsx("div",{className:"decorationAccent"}),e.jsx("div",{className:"decorationRed"})]})})]})})]})}function Z(){const[r,i]=m.useState([]),[c,o]=m.useState(0),[h,l]=m.useState(!0),[j,n]=m.useState(null),{isDarkMode:d}=y(),{user:x}=b(),{addToCart:u}=E(),{addToWishlist:p,removeFromWishlist:g,isInWishlist:f}=F(),N=d?"dark":"light";m.useEffect(()=>{(async()=>{try{l(!0),n(null);const t=await w("/api/products?limit=5&offset=3");i((t.products||[]).slice(0,5))}catch(t){console.error("Error fetching carousel products:",t),n("Failed to load products"),i([])}finally{l(!1)}})()},[]);const k=(s,t=300)=>{let a=s&&(s.image||s.images||null);try{if(!a)return`/assets/images/placeholder-${t===80?"80":"300"}.png`;if(typeof a=="string"&&a.trim().startsWith("[")){const v=JSON.parse(a);Array.isArray(v)&&v.length&&(a=v[0])}return Array.isArray(a)&&(a=a[0]),!a||typeof a!="string"?`/assets/images/placeholder-${t===80?"80":"300"}.png`:(a=a.trim(),a.startsWith("http://")||a.startsWith("https://")?a:/^[\w-]+\.[a-z]{2,4}$/i.test(a)||a.indexOf("/")===-1?`https://res.cloudinary.com/dx8wt3el4/image/upload/c_fill,w_${t===80?80:400},h_${t===80?80:400},g_center/${a}`:a.startsWith("/")?a:`/${a}`)}catch{return`/assets/images/placeholder-${t===80?"80":"300"}.png`}};m.useEffect(()=>{if(r.length>0){const s=setInterval(()=>{o(t=>(t+1)%r.length)},5e3);return()=>clearInterval(s)}},[r.length]);const S=s=>{o(s)},P=(s,t)=>{s.preventDefault(),s.stopPropagation(),(t.inStock||t.in_stock||t.stock>0)&&u(t)},_=(s,t)=>{s.preventDefault(),s.stopPropagation(),f(t.id)?g(t.id):p(t)};return h?e.jsx("div",{className:`product-carousel-section ${N}`,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"carousel-loading-pulse",children:[e.jsx("div",{className:"carousel-loading-title"}),e.jsx("div",{className:"carousel-loading-slide"})]})})})}):j||r.length===0?e.jsx("div",{className:`product-carousel-section ${N}`,children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h3",{className:`carousel-error-title ${N}`,children:"No legendary gear available right now"}),e.jsx("p",{className:`carousel-error-message ${N}`,children:"We're recharging our capsule inventory ‚Äî check back soon or try refreshing."}),e.jsxs("div",{className:"carousel-error-actions",children:[e.jsx("button",{onClick:()=>{n(null),l(!0),(async()=>{try{const s=await w("/api/products?limit=5&offset=3");i((s.products||[]).slice(0,5))}catch{n("Failed to load products"),i([])}finally{l(!1)}})()},className:"carousel-retry-button",children:"Try again"}),e.jsx(C,{to:"/capsules",className:"carousel-browse-link",children:"Browse Capsules"})]})]})}):(r[c],e.jsxs("section",{className:`product-carousel-section ${N}`,children:[e.jsxs("div",{className:"carousel-background-decoration",children:[e.jsx("div",{className:"carousel-orb-1"}),e.jsx("div",{className:"carousel-orb-2"}),e.jsx("div",{className:"carousel-orb-3"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[e.jsxs("div",{className:"carousel-header",children:[e.jsx("h2",{className:`carousel-title ${N}`,children:"üêâ LEGENDARY EQUIPMENT SHOWCASE"}),e.jsx("p",{className:`carousel-subtitle ${N}`,children:"Collect all 7 Dragon Balls and discover our most powerful gear! Experience the might of legendary equipment used by the universe's strongest warriors."})]}),e.jsx("div",{className:"carousel-container",children:e.jsxs("div",{className:"carousel-track",children:[e.jsxs("div",{className:"carousel-slide-background",children:[e.jsx("div",{className:"carousel-slide-overlay"}),e.jsx("div",{className:"carousel-radial-gradient"})]}),r.map((s,t)=>e.jsx("div",{className:`carousel-slide ${t===c?"active":""}`,children:e.jsx("div",{className:"carousel-slide-content",children:e.jsxs("div",{className:"carousel-content-grid",children:[e.jsx("div",{className:"carousel-image-container",children:e.jsx(C,{to:`/product/${s.slug}`,className:"carousel-image-link",children:e.jsx("div",{className:"carousel-image-orb",children:e.jsx("div",{className:"carousel-image-inner",children:e.jsx("img",{src:k(s,300),alt:s.name,className:"carousel-image",onError:a=>{try{a.target.onerror=null}catch{}a.target.src="/assets/images/placeholder-300.png"}})})})})}),e.jsxs("div",{className:"carousel-details",children:[e.jsxs("div",{children:[e.jsx("span",{className:"carousel-category-badge",children:s.category}),e.jsx("h3",{className:"carousel-product-name",children:s.name})]}),e.jsxs("div",{className:"carousel-price-section",children:[(s.originalPrice||s.original_price)&&e.jsx("span",{className:"carousel-original-price",children:e.jsx($,{value:s.originalPrice||s.original_price})}),e.jsx("span",{className:"carousel-current-price",children:e.jsx($,{value:s.price})})]}),e.jsxs("div",{className:"carousel-actions",children:[e.jsxs("button",{onClick:a=>P(a,s),disabled:!(s.inStock||s.in_stock||s.stock>0),className:`carousel-add-to-cart ${s.inStock||s.in_stock||s.stock>0?"enabled":"disabled"}`,children:[e.jsx(A,{className:"mr-2"}),"ADD TO CAPSULE"]}),e.jsx(C,{to:`/product/${s.slug}`,className:"carousel-details-link",children:"VIEW DETAILS"}),x&&e.jsx("button",{onClick:a=>_(a,s),className:`carousel-wishlist-button ${f(s.id)?"active":"inactive"}`,children:e.jsx(B,{})})]})]})]})})},s.id)),e.jsx("div",{className:"carousel-indicators",children:r.map((s,t)=>e.jsx("button",{onClick:()=>S(t),className:`carousel-indicator ${t===c?"active":"inactive"}`},t))})]})}),e.jsx("div",{className:"carousel-thumbnails",children:e.jsx("div",{className:"carousel-thumbnails-container",children:e.jsx("div",{className:"carousel-thumbnails-grid",children:r.map((s,t)=>e.jsx("button",{onClick:()=>S(t),className:`carousel-thumbnail ${t===c?"active":"inactive"}`,children:e.jsx("img",{src:k(s,80),alt:s.name,className:"carousel-thumbnail-image",onError:a=>{try{a.target.onerror=null}catch{}a.target.src="/assets/images/placeholder-80.png"}})},s.id))})})})]})]}))}function U(){const[r,i]=m.useState([]),[c,o]=m.useState(!0),[h,l]=m.useState(null),{user:j}=b(),{addToCart:n}=E(),{addToWishlist:d,isInWishlist:x}=F(),{isDarkMode:u}=y();return m.useEffect(()=>{(async()=>{try{o(!0),l(null);const g=await w("/api/products?featured=true&limit=3");i((g.products||[]).slice(0,3))}catch(g){console.error("Error fetching featured products:",g),l("Failed to load featured products"),i([])}finally{o(!1)}})()},[]),c?e.jsx("section",{className:"feature-products-container",id:"products",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"feature-products-header",children:[e.jsx("h3",{className:"feature-products-title",children:"Featured Battle Gear"}),e.jsx("p",{className:"feature-products-subtitle",children:"Equipment tested by the strongest warriors in the universe"})]}),e.jsxs("div",{className:"feature-products-loading",children:[e.jsx("div",{className:"loading-orb"}),e.jsx("div",{className:"feature-products-empty",children:"Loading Featured Products..."})]})]})}):h?e.jsx("section",{className:"feature-products-container",id:"products",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"feature-products-header",children:[e.jsx("h3",{className:"feature-products-title",children:"Featured Battle Gear"}),e.jsx("p",{className:"feature-products-subtitle",children:"Equipment tested by the strongest warriors in the universe"})]}),e.jsxs("div",{className:"feature-products-empty",children:[e.jsx("div",{className:"empty-icon",children:"‚ö†Ô∏è"}),e.jsx("div",{children:h})]})]})}):e.jsx("section",{className:"feature-products-container",id:"products",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"feature-products-header",children:[e.jsx("h3",{className:"feature-products-title",children:"Featured Battle Gear"}),e.jsx("p",{className:"feature-products-subtitle",children:"Equipment tested by the strongest warriors in the universe"})]}),r.length>0?e.jsx("div",{className:"feature-products-grid",style:{display:"flex",gap:"3rem",justifyContent:"center",alignItems:"stretch",width:"100%"},children:r.map((p,g)=>e.jsx("div",{style:{minWidth:"400px",maxWidth:"520px",flex:"1 1 480px",display:"flex"},children:e.jsx(R,{product:p,size:"large"})},p.id||p._id||p.slug||p.sku||p.name||g))}):e.jsxs("div",{className:"feature-products-empty",children:[e.jsx("div",{className:"empty-icon",children:"üí§"}),e.jsx("div",{children:"No featured products available"})]}),e.jsxs("div",{className:"legendary-badge",children:[e.jsx("div",{className:"legendary-title",children:"Explore the Capsule Collection"}),e.jsx("div",{className:"legendary-description",children:"Gear forged by Capsule Corp engineers."})]})]})})}function J(){const{isDarkMode:r}=y(),{user:i}=b(),c=[{icon:D,title:"Instant Transmission Shipping",description:"Get your gear delivered faster than Goku's teleportation",gradient:"gradient-blue",stats:"2-day delivery",link:"/products"},{icon:O,title:"Battle-Tested Quality",description:"Every product survives planet-destroying explosions",gradient:"gradient-orange",stats:"99.9% survival rate",link:"/products?category=Battle Gear"},{icon:T,title:"Legendary Support",description:"24/7 customer service by Z-Fighter experts",gradient:"gradient-yellow",stats:"4.9/5 rating",link:"/contact"}],o=[{icon:I,title:"Saiyan Community",description:"Connect with fellow warriors and share training tips",gradient:"gradient-purple",stats:"50K+ members",link:"/profile"},{icon:L,title:"Order Tracking",description:"Real-time updates on your capsule deliveries",gradient:"gradient-green",stats:"Live updates",link:"/profile/orders"},{icon:M,title:"Priority Support",description:"VIP customer service for registered warriors",gradient:"gradient-red",stats:"< 1min response",link:"/contact"}],h=i?[...c,...o]:c,l=r?"dark":"light",j=i?"user-grid":"guest-grid";return e.jsx("section",{className:`features-section ${l}`,id:"features",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"features-header",children:[e.jsx("h3",{className:`features-title ${l}`,children:i?"Your Saiyan Benefits":"Why Choose Capsule Corp?"}),e.jsx("p",{className:`features-subtitle ${l}`,children:i?"As a registered warrior, you get access to exclusive benefits and premium features":"Join the ranks of legendary warriors who trust Capsule Corp technology"})]}),e.jsx("div",{className:`features-grid ${j}`,children:h.map((n,d)=>{const x=n.icon;return e.jsxs(C,{to:n.link,className:"feature-card",children:[e.jsxs("div",{className:`feature-icon-container ${n.gradient}`,children:[e.jsx(x,{className:"feature-icon"}),e.jsx("div",{className:"feature-stats-badge",children:n.stats})]}),e.jsx("h4",{className:`feature-title ${l}`,children:n.title}),e.jsx("p",{className:`feature-description ${l}`,children:n.description}),e.jsx("div",{className:`feature-hover-link ${l}`,children:"Learn More ‚Üí"})]},n.title)})}),!i&&e.jsx("div",{className:"features-cta",children:e.jsxs("div",{className:`cta-container ${l}`,children:[e.jsx("h4",{className:`cta-title ${l}`,children:"Ready to Join the Elite?"}),e.jsx("p",{className:`cta-description ${l}`,children:"Create an account to unlock exclusive benefits and premium features"}),e.jsxs("div",{className:"cta-buttons",children:[e.jsx("a",{href:"/auth?tab=signup",className:"cta-primary-button",children:"Create Account"}),e.jsx("a",{href:"/auth",className:`cta-secondary-button ${l}`,children:"Login"})]})]})})]})})}function K(){const{user:r}=b(),{isDarkMode:i}=y(),{showSuccess:c}=q();return G({title:"Capsule Corp - Premium Dragon Ball Z Tech & Gear",description:"Official Capsule Corporation store. Shop premium Dragon Ball Z technology, battle gear, training equipment, and capsules. Powered by Bulma's genius inventions!",keywords:"Dragon Ball Z, Capsule Corp, anime merchandise, battle gear, training equipment, tech gadgets, DBZ, Bulma, Vegeta",url:window.location.href,type:"website"}),m.useEffect(()=>{r&&(sessionStorage.getItem("welcomeShown")||(c(`Welcome back, ${r.displayName||r.email}! üêâ`,{duration:4e3}),sessionStorage.setItem("welcomeShown","true")))},[r,c]),e.jsxs("div",{className:"min-h-0 w-full overflow-x-hidden px-2 py-4 sm:px-4 sm:py-8 flex flex-col gap-6",children:[e.jsx(H,{}),e.jsx(Z,{}),e.jsx(U,{}),e.jsx(J,{})]})}export{K as default};
