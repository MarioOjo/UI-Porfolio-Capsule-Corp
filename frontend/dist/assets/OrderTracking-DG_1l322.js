import{r as o,A as $,u as k,j as e,k as S,an as g,P as n,aI as h,U as O,y,a3 as T,ad as F}from"./index-C_rhaFlX.js";const _=()=>{const[i,f]=o.useState(""),[t,c]=o.useState(null),[m,b]=o.useState(!1),[u,j]=o.useState(!1),{addNotification:x}=$(),{isDarkMode:a}=k(),r={background:a?"bg-gradient-to-br from-slate-900 to-slate-800":"bg-gradient-to-br from-orange-50 via-white to-blue-50",card:a?"bg-slate-800 border border-slate-700":"bg-white border border-gray-200",text:{primary:a?"text-white":"text-gray-900",secondary:a?"text-gray-300":"text-gray-600",muted:a?"text-gray-400":"text-gray-500"},input:a?"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:ring-orange-500 focus:border-orange-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-orange-500 focus:border-orange-500"},N=async s=>{if(s.preventDefault(),!i.trim()){x("Please enter an order number","error");return}b(!0),j(!0);try{const l=await O(`/api/orders/number/${i.trim()}`);l.success?c(l.order):(c(null),x("Order not found","error"))}catch(l){console.error("Error fetching order:",l),c(null),x("Order not found. Please check your order number.","error")}finally{b(!1)}},p=s=>{switch(s){case"pending":return e.jsx(y,{className:"text-yellow-500"});case"processing":return e.jsx(F,{className:"text-blue-500"});case"shipped":return e.jsx(g,{className:"text-purple-500"});case"delivered":return e.jsx(T,{className:"text-green-500"});case"cancelled":return e.jsx(h,{className:"text-red-500"});default:return e.jsx(y,{className:"text-gray-500"})}},v=s=>{switch(s){case"pending":return a?"bg-yellow-900/30 text-yellow-300 border-yellow-700":"bg-yellow-100 text-yellow-800 border-yellow-300";case"processing":return a?"bg-blue-900/30 text-blue-300 border-blue-700":"bg-blue-100 text-blue-800 border-blue-300";case"shipped":return a?"bg-purple-900/30 text-purple-300 border-purple-700":"bg-purple-100 text-purple-800 border-purple-300";case"delivered":return a?"bg-green-900/30 text-green-300 border-green-700":"bg-green-100 text-green-800 border-green-300";case"cancelled":return a?"bg-red-900/30 text-red-300 border-red-700":"bg-red-100 text-red-800 border-red-300";default:return a?"bg-gray-900/30 text-gray-300 border-gray-700":"bg-gray-100 text-gray-800 border-gray-300"}},w=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),d=s=>{if(s.metadata)try{const l=JSON.parse(s.metadata);return{tracking_number:l.tracking_number,carrier:l.carrier}}catch{return{}}return{}};return e.jsx("div",{className:`min-h-0 ${r.background} overflow-x-hidden py-8 sm:py-12 px-4`,children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("h1",{className:`text-2xl sm:text-3xl lg:text-4xl font-bold mb-2 font-saiyan ${r.text.primary}`,children:"Track Your Order"}),e.jsx("p",{className:r.text.secondary,children:"Enter your order number to check the status"})]}),e.jsx("div",{className:`rounded-lg shadow-lg p-4 sm:p-6 mb-6 sm:mb-8 ${r.card}`,children:e.jsxs("form",{onSubmit:N,className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:i,onChange:s=>f(s.target.value),placeholder:"Enter order number (e.g., ORD-1234567890)",className:`w-full px-3 sm:px-4 py-2 sm:py-3 border rounded-lg focus:ring-2 focus:border-transparent text-sm sm:text-base ${r.input}`})}),e.jsxs("button",{type:"submit",disabled:m,className:"px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-saiyan font-bold text-sm sm:text-base kamehameha-glow",children:[e.jsx(S,{}),m?"Searching...":"Track Order"]})]})}),u&&!m&&e.jsx(e.Fragment,{children:t?e.jsxs("div",{className:`rounded-lg shadow-lg overflow-hidden ${r.card}`,children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-blue-500 text-white p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold mb-2 font-saiyan",children:["Order #",t.order_number]}),e.jsxs("p",{className:"opacity-90 text-sm sm:text-base",children:["Placed on ",w(t.placed_at)]})]}),e.jsxs("div",{className:`px-3 sm:px-4 py-1 sm:py-2 rounded-full border-2 flex items-center gap-2 ${v(t.status)}`,children:[p(t.status),e.jsx("span",{className:"font-semibold capitalize text-sm sm:text-base",children:t.status})]})]})}),e.jsx("div",{className:`p-4 sm:p-6 ${a?"bg-slate-700":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex justify-between items-center relative",children:[e.jsx("div",{className:`absolute top-4 sm:top-5 left-0 right-0 h-1 -z-10 ${a?"bg-slate-600":"bg-gray-200"}`}),e.jsx("div",{className:"absolute top-4 sm:top-5 left-0 h-1 bg-gradient-to-r from-orange-500 to-blue-500 transition-all duration-500 -z-10",style:{width:t.status==="pending"?"0%":t.status==="processing"?"33%":t.status==="shipped"?"66%":t.status==="delivered"?"100%":"0%"}}),["pending","processing","shipped","delivered"].map((s,l)=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-lg sm:text-xl ${t.status===s||s==="pending"&&t.status||s==="processing"&&["shipped","delivered"].includes(t.status)||s==="shipped"&&t.status==="delivered"?"bg-gradient-to-r from-orange-500 to-blue-500 text-white":`${a?"bg-slate-600 border-2 border-slate-500 text-gray-400":"bg-white border-2 border-gray-300 text-gray-400"}`}`,children:p(s)}),e.jsx("span",{className:`mt-2 text-xs sm:text-sm font-medium capitalize ${r.text.secondary}`,children:s})]},s))]})}),d(t).tracking_number&&e.jsxs("div",{className:`p-4 sm:p-6 border-t ${a?"border-slate-700":"border-gray-200"}`,children:[e.jsxs("h3",{className:`text-lg font-semibold mb-3 flex items-center gap-2 ${r.text.primary}`,children:[e.jsx(g,{className:"text-purple-500"}),"Shipping Information"]}),e.jsx("div",{className:`border rounded-lg p-3 sm:p-4 ${a?"bg-purple-900/20 border-purple-700":"bg-purple-50 border-purple-200"}`,children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${r.text.muted}`,children:"Tracking Number"}),e.jsx("p",{className:"font-mono font-semibold text-sm sm:text-base",children:d(t).tracking_number})]}),d(t).carrier&&e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${r.text.muted}`,children:"Carrier"}),e.jsx("p",{className:"font-semibold text-sm sm:text-base",children:d(t).carrier})]})]})})]}),e.jsxs("div",{className:`p-4 sm:p-6 border-t ${a?"border-slate-700":"border-gray-200"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-3 sm:mb-4 ${r.text.primary}`,children:"Order Items"}),e.jsx("div",{className:"space-y-2 sm:space-y-3",children:t.items?.map((s,l)=>e.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 sm:p-4 rounded-lg ${a?"bg-slate-700":"bg-gray-50"}`,children:[e.jsxs("div",{className:"mb-2 sm:mb-0",children:[e.jsx("p",{className:`font-medium text-sm sm:text-base ${r.text.primary}`,children:s.product_name}),e.jsxs("p",{className:`text-xs sm:text-sm ${r.text.muted}`,children:["Quantity: ",s.quantity]})]}),e.jsx("p",{className:`font-semibold text-sm sm:text-base ${r.text.primary}`,children:e.jsx(n,{value:Number(s.total)})})]},l))})]}),e.jsx("div",{className:`p-4 sm:p-6 border-t ${a?"border-slate-700 bg-slate-700":"border-gray-200 bg-gray-50"}`,children:e.jsxs("div",{className:"max-w-sm ml-auto space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:r.text.secondary,children:"Subtotal"}),e.jsx("span",{className:r.text.primary,children:e.jsx(n,{value:Number(t.subtotal)})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:r.text.secondary,children:"Shipping"}),e.jsx("span",{className:r.text.primary,children:e.jsx(n,{value:Number(t.shipping||0)})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:r.text.secondary,children:"Tax"}),e.jsx("span",{className:r.text.primary,children:e.jsx(n,{value:Number(t.tax||0)})})]}),e.jsxs("div",{className:`flex justify-between text-lg sm:text-xl font-bold pt-2 border-t-2 ${a?"border-slate-600":"border-gray-300"}`,children:[e.jsx("span",{className:r.text.primary,children:"Total"}),e.jsx("span",{className:r.text.primary,children:e.jsx(n,{value:Number(t.total)})})]})]})})]}):e.jsxs("div",{className:`rounded-lg shadow-lg p-6 sm:p-8 lg:p-12 text-center ${r.card}`,children:[e.jsx(h,{className:"text-4xl sm:text-6xl text-red-500 mx-auto mb-3 sm:mb-4"}),e.jsx("h3",{className:`text-xl sm:text-2xl font-bold mb-2 font-saiyan ${r.text.primary}`,children:"Order Not Found"}),e.jsx("p",{className:r.text.secondary,children:"We couldn't find an order with that number. Please check your order number and try again."})]})}),!u&&e.jsx("div",{className:`border rounded-lg p-4 sm:p-6 text-center ${a?"bg-blue-900/20 border-blue-700 text-blue-300":"bg-blue-50 border-blue-200 text-blue-800"}`,children:e.jsxs("p",{className:"text-sm sm:text-base",children:["ðŸ’¡ ",e.jsx("strong",{children:"Tip:"})," You can find your order number in the confirmation email we sent you after purchase."]})})]})})};export{_ as default};
