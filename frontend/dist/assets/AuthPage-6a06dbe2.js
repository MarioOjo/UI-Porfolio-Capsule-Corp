import{a1 as $,K as w,j as t,a2 as L,a as e,a3 as j,r,c as P,o as T,a4 as R,V as D,a5 as I,H as q}from"./index-69bf95fe.js";function O({variant:u="primary",className:s=""}){const{signInWithGoogle:m,loading:n}=$(),g=w(),i=async()=>{try{await m()&&g("/")}catch(d){console.error("Google sign-in error:",d)}},l=`
    w-full flex items-center justify-center gap-3 py-4 px-6 rounded-xl 
    font-saiyan font-bold text-lg transition-all duration-300 
    hover:scale-105 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed
    ${s}
  `;return t("button",{onClick:i,disabled:n||!L,title:L?void 0:"Firebase not configured locally",className:`${l} ${{primary:`
      bg-white border-2 border-gray-300 text-gray-700 
      hover:border-red-500 hover:shadow-red-100 
      focus:outline-none focus:ring-2 focus:ring-red-500/20
    `,secondary:`
      bg-gradient-to-r from-red-500 to-red-600 text-white 
      border-2 border-red-500 hover:from-red-600 hover:to-red-700 
      focus:outline-none focus:ring-2 focus:ring-red-500/20
    `,outlined:`
      bg-transparent border-2 border-red-500 text-red-500 
      hover:bg-red-500 hover:text-white 
      focus:outline-none focus:ring-2 focus:ring-red-500/20
    `}[u]}`,type:"button",children:[e(j,{className:"text-xl"}),n?t("span",{className:"flex items-center gap-2 p-2 sm:p-0",children:[e("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):e("span",{children:"Continue with Google"})]})}function Y({onSwitchTab:u}){const[s,m]=r.useState(""),[n,g]=r.useState(""),[i,l]=r.useState(!1),[c,h]=r.useState(""),[d,v]=r.useState(!1),{login:S}=P(),C=w(),{showSuccess:E,showError:k}=T();function y(o){return/\S+@\S+\.\S+/.test(o)}async function b(o){if(o.preventDefault(),h(""),!s||!n){h("Please enter both Scouter ID and Battle Password.");return}if(!y(s)){h("Please enter a valid email address.");return}v(!0);try{await S(s,n),E("ðŸ”¥ Power level rising! Welcome back, Saiyan!",{title:"LOGIN SUCCESSFUL",duration:4e3}),C("/")}catch(f){const N=(f==null?void 0:f.message)||"Login failed";h(N),k(`âš¡ ${N}`,{title:"LOGIN FAILED",duration:5e3})}finally{v(!1)}}return t("div",{className:"space-y-7",children:[e(O,{variant:"primary"}),t("div",{className:"relative",children:[e("div",{className:"absolute inset-0 flex items-center",children:e("div",{className:"w-full border-t border-gray-300"})}),e("div",{className:"relative flex justify-center text-sm",children:e("span",{className:"px-4 bg-white text-gray-500 font-saiyan tracking-wide",children:"OR USE SCOUTER ID"})})]}),t("form",{className:"space-y-7",onSubmit:b,children:[t("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-600 mb-3 tracking-wide",children:"SCOUTER ID"}),t("div",{className:"relative",children:[e(R,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-600 text-lg"}),e("input",{type:"email",placeholder:"Enter your Capsule Corp. ID",className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-600/20 transition-all font-saiyan",value:s,onChange:o=>m(o.target.value),required:!0})]})]}),t("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-600 mb-3 tracking-wide",children:"BATTLE PASSWORD"}),t("div",{className:"relative",children:[e("input",{type:i?"text":"password",placeholder:"Your battle password",className:"w-full pl-4 pr-14 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-600/20 transition-all font-saiyan",value:n,onChange:o=>g(o.target.value),required:!0}),e("button",{type:"button",className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-blue-600",onClick:()=>l(o=>!o),tabIndex:-1,children:e(D,{})})]})]}),c&&e("div",{className:"text-red-600 text-sm font-medium shake",children:c}),e("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-400 to-orange-600 text-white py-4 rounded-xl font-saiyan font-bold text-lg kamehameha-glow transition-all hover:scale-105 hover:shadow-xl",disabled:d,children:d?"Signing in...":"POWER UP"}),t("div",{className:"text-center space-y-3",children:[e("div",{children:e("span",{className:"text-gray-600 hover:text-blue-600 cursor-pointer text-sm font-medium transition-colors",children:"Use the Dragon Balls! (Forgot Password?)"})}),t("div",{children:[e("span",{className:"text-gray-600",children:"No Scouter? "}),e("span",{className:"text-blue-600 hover:text-orange-400 cursor-pointer font-semibold transition-colors",onClick:u,children:"SIGN UP"})]})]})]})]})}function H({onSwitchTab:u}){const[s,m]=r.useState(""),[n,g]=r.useState(""),[i,l]=r.useState(""),[c,h]=r.useState(""),[d,v]=r.useState(""),[S,C]=r.useState(!1),[E,k]=r.useState(!1),[y,b]=r.useState(""),[o,f]=r.useState(!1),{signup:N}=P(),G=w(),{showSuccess:F,showError:U}=T();function M(a){return/\S+@\S+\.\S+/.test(a)}function W(a){return a.length<4?"Weak":a.length<8?"Medium":"Strong"}async function B(a){if(a.preventDefault(),b(""),!s||!n||!i||!c||!d){b("Please fill in all fields.");return}if(!M(i)){b("Please enter a valid email address.");return}if(c!==d){b("Passwords do not match.");return}if(W(c)==="Weak"){b("Password is too weak. Use at least 4 characters.");return}f(!0);try{await N(i,c,s,n),F("ðŸŽ‰ Scouter activated! Your Capsule Corp. account is ready!",{title:"ACCOUNT CREATED",duration:4e3}),G("/")}catch(p){const A=(p==null?void 0:p.message)||"Signup failed";b(A),U(`âš¡ ${A}`,{title:"SIGNUP FAILED",duration:5e3})}finally{f(!1)}}const x=Math.min(Math.floor(c.length/2),5);return t("div",{className:"space-y-7",children:[e(O,{variant:"secondary"}),t("div",{className:"relative",children:[e("div",{className:"absolute inset-0 flex items-center",children:e("div",{className:"w-full border-t border-blue-300"})}),e("div",{className:"relative flex justify-center text-sm",children:e("span",{className:"px-4 bg-white text-blue-500 font-saiyan tracking-wide",children:"OR CREATE NEW ACCOUNT"})})]}),t("form",{className:"space-y-7",onSubmit:B,children:[t("div",{children:[e("label",{className:"block text-sm font-saiyan text-blue-700 mb-3 tracking-wide",children:"EARTHLING NAME (FIRST NAME)"}),t("div",{className:"relative",children:[e(I,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500"}),e("input",{type:"text",placeholder:"Your First Name",className:"w-full pl-12 pr-4 py-4 border-2 border-blue-200 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-saiyan",value:s,onChange:a=>m(a.target.value),required:!0})]})]}),t("div",{children:[e("label",{className:"block text-sm font-saiyan text-blue-700 mb-3 tracking-wide",children:"EARTHLING NAME (LAST NAME)"}),t("div",{className:"relative",children:[e(I,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500"}),e("input",{type:"text",placeholder:"Your Last Name",className:"w-full pl-12 pr-4 py-4 border-2 border-blue-200 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-saiyan",value:n,onChange:a=>g(a.target.value),required:!0})]})]}),t("div",{children:[e("label",{className:"block text-sm font-saiyan text-blue-700 mb-3 tracking-wide",children:"SCOUTER ID (EMAIL)"}),t("div",{className:"relative",children:[e(R,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500"}),e("input",{type:"email",placeholder:"user@capsulecorp.com",className:"w-full pl-12 pr-4 py-4 border-2 border-blue-200 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-saiyan",value:i,onChange:a=>l(a.target.value),required:!0})]})]}),t("div",{children:[e("label",{className:"block text-sm font-saiyan text-blue-700 mb-3 tracking-wide",children:"BATTLE PASSWORD"}),t("div",{className:"relative",children:[e("input",{type:S?"text":"password",placeholder:"Create your battle password",className:"w-full pl-4 pr-14 py-4 border-2 border-blue-200 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-saiyan",value:c,onChange:a=>h(a.target.value),required:!0,minLength:4}),e("button",{type:"button",className:"absolute right-4 top-1/2 -translate-y-1/2 text-blue-500 hover:text-orange-500",onClick:()=>C(a=>!a),tabIndex:-1,children:e(D,{})})]}),t("div",{className:"flex items-center space-x-2 mt-2",children:[e("span",{className:"text-xs font-saiyan text-gray-600 tracking-wide",children:"POWER LEVEL:"}),e("div",{className:"flex space-x-1",children:[...Array(5)].map((a,p)=>e("div",{className:`w-6 h-3 rounded-full ${p<x?x<=2?"bg-red-500 power-bar active":x<=4?"bg-orange-500 power-bar active":"bg-green-500 power-bar active":"bg-gray-300"}`},p))})]}),e("span",{className:"text-xs text-red-500 font-medium",children:x<2?"Weak (PL<2000)":x<4?"Medium (PL<5000)":"Strong (PL>9000)"})]}),t("div",{children:[e("label",{className:"block text-sm font-saiyan text-blue-700 mb-3 tracking-wide",children:"CONFIRM BATTLE PASSWORD"}),e("div",{className:"relative",children:e("input",{type:"password",placeholder:"Confirm your battle password",className:"w-full pl-4 pr-4 py-4 border-2 border-blue-200 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-saiyan",value:d,onChange:a=>v(a.target.value),required:!0})}),d&&c!==d&&e("span",{className:"text-xs text-red-500 font-medium mt-1 block",children:"Passwords do not match"})]}),t("div",{className:"flex items-start space-x-3",children:[e("input",{type:"checkbox",className:"mt-1.5 w-4 h-4 text-blue-600 border-2 border-gray-300 rounded focus:ring-blue-600",checked:E,onChange:a=>k(a.target.checked),id:"promo"}),t("label",{htmlFor:"promo",className:"text-sm text-gray-600 font-sans",children:[e("span",{className:"text-blue-600 font-semibold",children:"Capsule Delivery:"})," ","Send me Senzu Bean deals!"]})]}),y&&e("div",{className:"text-red-600 text-sm font-medium shake",children:y}),e("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-400 to-orange-600 text-white py-4 rounded-xl font-saiyan font-bold text-lg kamehameha-glow transition-all hover:scale-105 hover:shadow-xl",disabled:o,children:o?"Creating...":"CREATE ACCOUNT"}),t("div",{className:"text-center",children:[e("span",{className:"text-gray-600",children:"Already have a Scouter? "}),e("span",{className:"text-blue-600 hover:text-orange-400 cursor-pointer font-semibold transition-colors",onClick:u,children:"LOGIN"})]})]})]})}function z(){const[u]=q(),s=w(),{user:m}=P(),[n,g]=r.useState(u.get("tab")||"login");r.useEffect(()=>{m&&s("/")},[m,s]),r.useEffect(()=>{const l=u.get("tab");(l==="signup"||l==="login")&&g(l)},[u]);const i=l=>{g(l),s(`/auth?tab=${l}`,{replace:!0})};return e("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center p-4",children:t("div",{className:"w-full max-w-md",children:[e("div",{className:"bg-white rounded-t-2xl shadow-lg overflow-hidden",children:t("div",{className:"flex border-b border-gray-200",children:[e("button",{onClick:()=>i("login"),className:`flex-1 py-4 px-6 font-saiyan text-sm font-bold transition-all duration-300 ${n==="login"?"bg-gradient-to-r from-[#3B4CCA] to-blue-600 text-white":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:"LOGIN"}),e("button",{onClick:()=>i("signup"),className:`flex-1 py-4 px-6 font-saiyan text-sm font-bold transition-all duration-300 ${n==="signup"?"bg-gradient-to-r from-[#3B4CCA] to-blue-600 text-white":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:"REGISTER"})]})}),e("div",{className:"bg-white rounded-b-2xl shadow-lg p-8",children:n==="login"?e(Y,{}):e(H,{})}),e("div",{className:"mt-6 text-center text-sm text-gray-600",children:t("p",{children:["Â© ",new Date().getFullYear()," Capsule Corporation. All rights reserved."]})})]})})}export{z as default};
