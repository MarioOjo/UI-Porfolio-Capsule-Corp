import{af as Q,o as R,ag as J,ah as _,j as e,ai as X,r as a,l as I,A as M,u as U,aj as W,ak as z,a6 as V,F as B,b as ee,al as se,e as G,V as ae}from"./index-C_rhaFlX.js";function q({variant:h="primary",className:i=""}){const{signInWithGoogle:p,loading:l}=Q(),m=R(),c=async()=>{try{await p()&&m("/")}catch(j){console.error("Google sign-in error:",j)}},u=`
    w-full flex items-center justify-center gap-3 py-4 px-6 rounded-xl 
    font-saiyan font-bold text-lg transition-all duration-300 
    hover:scale-105 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed
    ${i}
  `,t={primary:`
      bg-white border-2 border-gray-300 text-gray-700 
      hover:border-red-500 hover:shadow-red-100 
      focus:outline-none focus:ring-2 focus:ring-red-500/20
    `,secondary:`
      bg-gradient-to-r from-red-500 to-red-600 text-white 
      border-2 border-red-500 hover:from-red-600 hover:to-red-700 
      focus:outline-none focus:ring-2 focus:ring-red-500/20
    `,outlined:`
      bg-transparent border-2 border-red-500 text-red-500 
      hover:bg-red-500 hover:text-white 
      focus:outline-none focus:ring-2 focus:ring-red-500/20
    `};J();const x=_(),d=l||!x;return e.jsxs("button",{onClick:c,disabled:d,title:x?void 0:"Firebase not configured locally",className:`${u} ${t[h]}`,type:"button",children:[e.jsx(X,{className:"text-xl"}),l?e.jsxs("span",{className:"flex items-center gap-2 p-2 sm:p-0",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):e.jsx("span",{children:"Continue with Google"})]})}function re({onSwitchTab:h}){const[i,p]=a.useState(""),[l,m]=a.useState(""),[c,u]=a.useState(!1),[t,x]=a.useState(""),[d,j]=a.useState(!1),[v,A]=a.useState(!1),{login:w}=I(),T=R(),{showSuccess:N,showError:P}=M(),{isDarkMode:y}=U(),o=a.useRef(null);function b(r){return/\S+@\S+\.\S+/.test(r)}async function C(r){if(r.preventDefault(),x(""),!i||!l){x("Scouter ID and Battle Password required for authentication!");return}if(!b(i)){x("Scouter cannot read this email format!");return}j(!0),o.current&&o.current.classList.add("powering-up");try{await w(i,l,v),N("üöÄ Power level rising! Welcome back, Warrior!",{title:"SCOUTER ACTIVATED",duration:4e3}),setTimeout(()=>{T("/")},1500)}catch(F){const E=F?.message||"Authentication failed";x(E),P(`‚ö° ${E}`,{title:"SCOUTER ERROR",duration:5e3})}finally{j(!1),o.current&&o.current.classList.remove("powering-up")}}const L=[{email:"goku@capsulecorp.com",password:"kamehameha",character:"Goku"},{email:"vegeta@capsulecorp.com",password:"prince123",character:"Vegeta"},{email:"bulma@capsulecorp.com",password:"science!",character:"Bulma"}],O=r=>{p(r.email),m(r.password)};return e.jsxs("div",{className:`login-container ${y?"dark":"light"}`,ref:o,children:[e.jsxs("div",{className:"demo-section",children:[e.jsx("h3",{className:"demo-title",children:"üéÆ QUICK TRAINING ACCESS"}),e.jsx("div",{className:"demo-grid",children:L.map(r=>e.jsxs("button",{type:"button",onClick:()=>O(r),className:"demo-account-btn",children:[e.jsx("div",{className:"demo-character",children:r.character}),e.jsx("div",{className:"demo-hint",children:"Click to fill"})]},r.character))})]}),e.jsx(q,{variant:"primary"}),e.jsx("div",{className:"form-divider",children:e.jsx("span",{children:"OR USE SCOUTER AUTHENTICATION"})}),e.jsxs("form",{className:"auth-form",onSubmit:C,children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{className:"field-label",children:"üì° SCOUTER FREQUENCY"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx(W,{className:"input-icon"}),e.jsx("input",{type:"email",placeholder:"goku@capsulecorp.com",className:"form-input",value:i,onChange:r=>p(r.target.value),required:!0})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsxs("div",{className:"field-header",children:[e.jsx("label",{className:"field-label",children:"üí™ BATTLE PASSWORD"}),e.jsx("button",{type:"button",className:"forgot-password-btn",children:"üêâ Forgot Ki Energy?"})]}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("input",{type:c?"text":"password",placeholder:"Channel your ki energy...",className:"form-input",value:l,onChange:r=>m(r.target.value),required:!0}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>u(r=>!r),tabIndex:-1,children:c?e.jsx(z,{}):e.jsx(V,{})})]})]}),e.jsxs("div",{className:"form-options",children:[e.jsxs("div",{className:"remember-me",children:[e.jsx("input",{type:"checkbox",className:"option-checkbox",checked:v,onChange:r=>A(r.target.checked),id:"remember"}),e.jsx("label",{htmlFor:"remember",className:"option-label",children:"Remember this Scouter"})]}),e.jsxs("div",{className:"security-status",children:[e.jsx("div",{className:"status-indicator"}),e.jsx("span",{children:"Capsule Corp Secure"})]})]}),t&&e.jsxs("div",{className:"error-message",children:[e.jsx("span",{className:"error-icon",children:"‚ö°"}),e.jsx("span",{children:t})]}),e.jsx("button",{type:"submit",className:`submit-btn ${d?"loading":""}`,disabled:d,children:d?e.jsxs("span",{className:"btn-loading",children:[e.jsx(B,{className:"loading-icon"}),e.jsx("span",{children:"POWERING UP SCOUTER..."})]}):e.jsxs("span",{className:"btn-content",children:[e.jsx(ee,{className:"btn-icon"}),e.jsx("span",{children:"ACTIVATE SCOUTER"})]})}),e.jsxs("div",{className:"security-features",children:[e.jsxs("div",{className:"security-item",children:[e.jsx("div",{className:"security-dot ssl"}),e.jsx("span",{children:"SSL Encrypted"})]}),e.jsxs("div",{className:"security-item",children:[e.jsx("div",{className:"security-dot power"}),e.jsx("span",{children:"Power Level Secure"})]}),e.jsxs("div",{className:"security-item",children:[e.jsx("div",{className:"security-dot verified"}),e.jsx("span",{children:"Z-Fighter Verified"})]})]})]}),e.jsxs("div",{className:"form-footer",children:[e.jsxs("button",{type:"button",className:"footer-link",children:[e.jsx("span",{children:"üîÆ Use the Dragon Balls"}),e.jsx("span",{className:"link-badge",children:"Forgot Password?"})]}),e.jsxs("div",{className:"switch-tab-prompt",children:[e.jsx("span",{children:"New Warrior? "}),e.jsx("button",{type:"button",className:"switch-tab-btn",onClick:h,children:"Join the Z-Fighters"})]})]})]})}function te({onSwitchTab:h}){const[i,p]=a.useState(""),[l,m]=a.useState(""),[c,u]=a.useState(""),[t,x]=a.useState(""),[d,j]=a.useState(""),[v,A]=a.useState(!1),[w,T]=a.useState(!1),[N,P]=a.useState("goku"),[y,o]=a.useState(""),[b,C]=a.useState(!1),{signup:L}=I(),O=R(),{showSuccess:r,showError:F}=M(),{isDarkMode:E}=U(),f=a.useRef(null),$=[{id:"goku",name:"Goku",icon:"üêâ",color:"avatar-goku"},{id:"vegeta",name:"Vegeta",icon:"üëë",color:"avatar-vegeta"},{id:"gohan",name:"Gohan",icon:"üìö",color:"avatar-gohan"},{id:"piccolo",name:"Piccolo",icon:"üëΩ",color:"avatar-piccolo"},{id:"bulma",name:"Bulma",icon:"üî¨",color:"avatar-bulma"},{id:"krillin",name:"Krillin",icon:"üí™",color:"avatar-krillin"},{id:"frieza",name:"Frieza",icon:"üòà",color:"avatar-frieza"},{id:"trunks",name:"Trunks",icon:"‚öîÔ∏è",color:"avatar-trunks"}];function K(s){return/\S+@\S+\.\S+/.test(s)}function Y(s){return s.length<4?{level:"Weak",pl:"PL<2000",color:"weak"}:s.length<8?{level:"Medium",pl:"PL<5000",color:"medium"}:s.length<12?{level:"Strong",pl:"PL>9000",color:"strong"}:{level:"OVER 9000!",pl:"PL>9000!!!",color:"over9000"}}const g=Y(t),H=Math.min(Math.floor(t.length/3),5);async function Z(s){if(s.preventDefault(),o(""),!i||!l||!c||!t||!d){o("All fields must be filled to join the Z-Fighters!");return}if(!K(c)){o("Scouter cannot read this email format!");return}if(t!==d){o("Battle passwords must match!");return}if(g.level==="Weak"){o(`Power level too low! ${g.pl} - Train harder!`);return}C(!0),f.current&&f.current.classList.add("submitting");try{let n=c.split("@")[0].toLowerCase().replace(/[^a-z0-9_-]/g,"");n.length<3&&(n=n+Math.random().toString(36).substring(2,5)),n.length>30&&(n=n.substring(0,30)),await L({email:c,password:t,username:n,firstName:i,lastName:l,avatar:N,promoEmails:w}),r("üéâ Welcome to Capsule Corp, Warrior!",{title:"SCOUTER ACTIVATED",duration:4e3}),setTimeout(()=>{O("/")},2e3)}catch(n){console.error("Signup error details:",n);let k=n?.message||"Failed to activate Scouter";n?.body?.details&&Array.isArray(n.body.details)&&(k=n.body.details.map(D=>D.msg||D.message).join(", ")),o(k),F(`‚ö° ${k}`,{title:"SCOUTER ERROR",duration:5e3})}finally{C(!1),f.current&&f.current.classList.remove("submitting")}}const S=$.find(s=>s.id===N);return e.jsxs("div",{className:`signup-container ${E?"dark":"light"}`,ref:f,children:[e.jsx(q,{variant:"secondary"}),e.jsx("div",{className:"form-divider",children:e.jsx("span",{children:"OR POWER UP MANUALLY"})}),e.jsxs("form",{className:"auth-form",onSubmit:Z,children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{className:"field-label",children:"üé≠ SELECT YOUR WARRIOR AVATAR"}),e.jsx("div",{className:"avatar-grid",children:$.map(s=>e.jsxs("button",{type:"button",onClick:()=>P(s.id),className:`avatar-option ${s.color} ${N===s.id?"selected":""}`,children:[N===s.id&&e.jsx("div",{className:"avatar-check",children:e.jsx(se,{className:"check-icon"})}),e.jsx("div",{className:"avatar-icon",children:s.icon}),e.jsx("div",{className:"avatar-name",children:s.name})]},s.id))}),S&&e.jsx("div",{className:"selected-avatar",children:e.jsxs("div",{className:"selected-avatar-content",children:[e.jsx("div",{className:`selected-avatar-icon ${S.color}`,children:S.icon}),e.jsxs("div",{className:"selected-avatar-info",children:[e.jsx("div",{className:"selected-avatar-name",children:S.name}),e.jsx("div",{className:"selected-avatar-desc",children:"Ready for battle!"})]})]})})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{className:"field-label",children:"üåç EARTHLING NAME"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx(G,{className:"input-icon"}),e.jsx("input",{type:"text",placeholder:"Goku",className:"form-input",value:i,onChange:s=>p(s.target.value),required:!0})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{className:"field-label",children:"üë• CLAN NAME"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx(G,{className:"input-icon"}),e.jsx("input",{type:"text",placeholder:"Son",className:"form-input",value:l,onChange:s=>m(s.target.value),required:!0})]})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{className:"field-label",children:"üì° SCOUTER FREQUENCY"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx(W,{className:"input-icon"}),e.jsx("input",{type:"email",placeholder:"goku@capsulecorp.com",className:"form-input",value:c,onChange:s=>u(s.target.value),required:!0})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{className:"field-label",children:"üí™ BATTLE PASSWORD"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("input",{type:v?"text":"password",placeholder:"Channel your ki energy...",className:"form-input",value:t,onChange:s=>x(s.target.value),required:!0,minLength:4}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>A(s=>!s),tabIndex:-1,children:v?e.jsx(z,{}):e.jsx(V,{})})]}),e.jsxs("div",{className:"power-level-indicator",children:[e.jsxs("div",{className:"power-level-header",children:[e.jsxs("span",{children:["POWER LEVEL: ",e.jsx("strong",{className:g.color,children:g.pl})]}),e.jsx("span",{className:`power-level-text ${g.color}`,children:g.level})]}),e.jsx("div",{className:"power-bars",children:[...Array(5)].map((s,n)=>e.jsx("div",{className:`power-bar ${n<H?g.color:""}`},n))})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{className:"field-label",children:"üîÑ CONFIRM KI CHANNEL"}),e.jsx("div",{className:"input-wrapper",children:e.jsx("input",{type:"password",placeholder:"Re-channel your ki energy",className:"form-input",value:d,onChange:s=>j(s.target.value),required:!0})}),d&&t!==d&&e.jsx("span",{className:"password-mismatch",children:"‚ö° Ki energy mismatch! Passwords don't match."})]}),e.jsxs("div",{className:"promo-section",children:[e.jsx("input",{type:"checkbox",className:"option-checkbox",checked:w,onChange:s=>T(s.target.checked),id:"promo"}),e.jsxs("label",{htmlFor:"promo",className:"option-label promo-label",children:[e.jsx("span",{className:"promo-highlight",children:"üçÉ Senzu Bean Delivery:"})," ","Send me exclusive deals, training tips, and Capsule Corp updates!"]})]}),y&&e.jsxs("div",{className:"error-message",children:[e.jsx("span",{className:"error-icon",children:"‚ö°"}),e.jsx("span",{children:y})]}),e.jsx("button",{type:"submit",className:`submit-btn ${b?"loading":""} ${g.color}`,disabled:b,children:b?e.jsxs("span",{className:"btn-loading",children:[e.jsx(B,{className:"loading-icon"}),e.jsx("span",{children:"ACTIVATING SCOUTER..."})]}):e.jsxs("span",{className:"btn-content",children:[e.jsx("span",{className:"btn-avatar",children:S?.icon}),e.jsxs("span",{children:["POWER UP! ",g.level==="OVER 9000!"?"üöÄ":"üí•"]})]})})]}),e.jsx("div",{className:"form-footer",children:e.jsxs("div",{className:"switch-tab-prompt",children:[e.jsx("span",{children:"Already trained with us? "}),e.jsx("button",{type:"button",className:"switch-tab-btn",onClick:h,children:"Login to your Scouter"})]})})]})}function ie(){const[h]=ae(),i=R(),{user:p}=I(),{isDarkMode:l}=U(),[m,c]=a.useState(h.get("tab")||"login");a.useEffect(()=>{p&&i("/")},[p,i]),a.useEffect(()=>{const t=h.get("tab");(t==="signup"||t==="login")&&c(t)},[h]);const u=t=>{c(t),i(`/auth?tab=${t}`,{replace:!0})};return e.jsxs("div",{className:`auth-page-container ${l?"dark":"light"}`,children:[e.jsxs("div",{className:"auth-background",children:[e.jsx("div",{className:"background-pattern"}),e.jsx("div",{className:"dbz-bg-element dbz-bg-1"}),e.jsx("div",{className:"dbz-bg-element dbz-bg-2"}),e.jsx("div",{className:"dbz-bg-element dbz-bg-3"})]}),e.jsx("div",{className:"auth-content-wrapper",children:e.jsxs("div",{className:"auth-card-container",children:[e.jsxs("div",{className:"auth-header-logo",children:[e.jsxs("div",{className:"logo-main",children:[e.jsx("span",{className:"logo-icon",children:"üêâ"}),e.jsx("span",{className:"logo-text",children:"Capsule Corporation"})]}),e.jsx("div",{className:"theme-indicator",children:e.jsx("span",{className:`theme-badge ${l?"frieza":"goku"}`,children:l?"üåô Frieza Mode":"‚òÄÔ∏è Goku Mode"})})]}),e.jsx("div",{className:"tab-navigation-container",children:e.jsxs("div",{className:"tab-navigation",children:[e.jsxs("button",{onClick:()=>u("login"),className:`tab-button ${m==="login"?"active":""}`,children:[e.jsx("span",{className:"tab-icon",children:"üîê"}),e.jsx("span",{className:"tab-text",children:"SCOUTER LOGIN"})]}),e.jsxs("button",{onClick:()=>u("signup"),className:`tab-button ${m==="signup"?"active":""}`,children:[e.jsx("span",{className:"tab-icon",children:"üêâ"}),e.jsx("span",{className:"tab-text",children:"JOIN Z-FIGHTERS"})]})]})}),e.jsx("div",{className:"tab-content-container",children:e.jsx("div",{className:"tab-content",children:m==="login"?e.jsx(re,{onSwitchTab:()=>u("signup")}):e.jsx(te,{onSwitchTab:()=>u("login")})})}),e.jsxs("div",{className:"auth-footer",children:[e.jsxs("p",{className:"footer-text",children:["¬© ",new Date().getFullYear()," Capsule Corporation. All rights reserved."]}),e.jsx("p",{className:"footer-subtext",children:"Protecting Earth since Age 737"})]})]})})]})}export{ie as default};
