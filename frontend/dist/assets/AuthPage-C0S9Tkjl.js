import{a2 as M,c as N,a3 as W,a4 as B,j as e,a5 as $,r as t,b as E,m as A,a6 as L,V as I,a7 as P,E as q}from"./index-CPlhvEIb.js";function T({variant:d="primary",className:a=""}){const{signInWithGoogle:x,loading:r}=M(),m=N(),i=async()=>{try{await x()&&m("/")}catch(b){console.error("Google sign-in error:",b)}},n=`
    w-full flex items-center justify-center gap-3 py-4 px-6 rounded-xl 
    font-saiyan font-bold text-lg transition-all duration-300 
    hover:scale-105 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed
    ${a}
  `,l={primary:`
      bg-white border-2 border-gray-300 text-gray-700 
      hover:border-red-500 hover:shadow-red-100 
      focus:outline-none focus:ring-2 focus:ring-red-500/20
    `,secondary:`
      bg-gradient-to-r from-red-500 to-red-600 text-white 
      border-2 border-red-500 hover:from-red-600 hover:to-red-700 
      focus:outline-none focus:ring-2 focus:ring-red-500/20
    `,outlined:`
      bg-transparent border-2 border-red-500 text-red-500 
      hover:bg-red-500 hover:text-white 
      focus:outline-none focus:ring-2 focus:ring-red-500/20
    `};W();const u=B(),c=r||!u;return e.jsxs("button",{onClick:i,disabled:c,title:u?void 0:"Firebase not configured locally",className:`${n} ${l[d]}`,type:"button",children:[e.jsx($,{className:"text-xl"}),r?e.jsxs("span",{className:"flex items-center gap-2 p-2 sm:p-0",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):e.jsx("span",{children:"Continue with Google"})]})}function Y({onSwitchTab:d}){const[a,x]=t.useState(""),[r,m]=t.useState(""),[i,n]=t.useState(!1),[l,u]=t.useState(""),[c,b]=t.useState(!1),{login:j}=E(),w=N(),{showSuccess:S,showError:C}=A();function f(o){return/\S+@\S+\.\S+/.test(o)}async function g(o){if(o.preventDefault(),u(""),!a||!r){u("Please enter both Scouter ID and Battle Password.");return}if(!f(a)){u("Please enter a valid email address.");return}b(!0);try{await j(a,r),S("ðŸ”¥ Power level rising! Welcome back, Saiyan!",{title:"LOGIN SUCCESSFUL",duration:4e3}),w("/")}catch(p){const v=p?.message||"Login failed";u(v),C(`âš¡ ${v}`,{title:"LOGIN FAILED",duration:5e3})}finally{b(!1)}}return e.jsxs("div",{className:"space-y-7",children:[e.jsx(T,{variant:"primary"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500 font-saiyan tracking-wide",children:"OR USE SCOUTER ID"})})]}),e.jsxs("form",{className:"space-y-7",onSubmit:g,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-gray-600 mb-3 tracking-wide",children:"SCOUTER ID"}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-600 text-lg"}),e.jsx("input",{type:"email",placeholder:"Enter your Capsule Corp. ID",className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-600/20 transition-all font-saiyan",value:a,onChange:o=>x(o.target.value),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-gray-600 mb-3 tracking-wide",children:"BATTLE PASSWORD"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:i?"text":"password",placeholder:"Your battle password",className:"w-full pl-4 pr-14 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-600/20 transition-all font-saiyan",value:r,onChange:o=>m(o.target.value),required:!0}),e.jsx("button",{type:"button",className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-blue-600",onClick:()=>n(o=>!o),tabIndex:-1,children:e.jsx(I,{})})]})]}),l&&e.jsx("div",{className:"text-red-600 text-sm font-medium shake",children:l}),e.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-400 to-orange-600 text-white py-4 rounded-xl font-saiyan font-bold text-lg kamehameha-glow transition-all hover:scale-105 hover:shadow-xl",disabled:c,children:c?"Signing in...":"POWER UP"}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{children:e.jsx("span",{className:"text-gray-600 hover:text-blue-600 cursor-pointer text-sm font-medium transition-colors",children:"Use the Dragon Balls! (Forgot Password?)"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"No Scouter? "}),e.jsx("span",{className:"text-blue-600 hover:text-orange-400 cursor-pointer font-semibold transition-colors",onClick:d,children:"SIGN UP"})]})]})]})]})}function H({onSwitchTab:d}){const[a,x]=t.useState(""),[r,m]=t.useState(""),[i,n]=t.useState(""),[l,u]=t.useState(""),[c,b]=t.useState(""),[j,w]=t.useState(!1),[S,C]=t.useState(!1),[f,g]=t.useState(""),[o,p]=t.useState(!1),{signup:v}=E(),R=N(),{showSuccess:D,showError:O}=A();function G(s){return/\S+@\S+\.\S+/.test(s)}function F(s){return s.length<4?"Weak":s.length<8?"Medium":"Strong"}async function U(s){if(s.preventDefault(),g(""),!a||!r||!i||!l||!c){g("Please fill in all fields.");return}if(!G(i)){g("Please enter a valid email address.");return}if(l!==c){g("Passwords do not match.");return}if(F(l)==="Weak"){g("Password is too weak. Use at least 4 characters.");return}p(!0);try{await v(i,l,a,r),D("ðŸŽ‰ Scouter activated! Your Capsule Corp. account is ready!",{title:"ACCOUNT CREATED",duration:4e3}),R("/")}catch(y){const k=y?.message||"Signup failed";g(k),O(`âš¡ ${k}`,{title:"SIGNUP FAILED",duration:5e3})}finally{p(!1)}}const h=Math.min(Math.floor(l.length/2),5);return e.jsxs("div",{className:"space-y-7",children:[e.jsx(T,{variant:"secondary"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-blue-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-blue-500 font-saiyan tracking-wide",children:"OR CREATE NEW ACCOUNT"})})]}),e.jsxs("form",{className:"space-y-7",onSubmit:U,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-blue-700 mb-3 tracking-wide",children:"EARTHLING NAME (FIRST NAME)"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500"}),e.jsx("input",{type:"text",placeholder:"Your First Name",className:"w-full pl-12 pr-4 py-4 border-2 border-blue-200 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-saiyan",value:a,onChange:s=>x(s.target.value),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-blue-700 mb-3 tracking-wide",children:"EARTHLING NAME (LAST NAME)"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500"}),e.jsx("input",{type:"text",placeholder:"Your Last Name",className:"w-full pl-12 pr-4 py-4 border-2 border-blue-200 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-saiyan",value:r,onChange:s=>m(s.target.value),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-blue-700 mb-3 tracking-wide",children:"SCOUTER ID (EMAIL)"}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500"}),e.jsx("input",{type:"email",placeholder:"user@capsulecorp.com",className:"w-full pl-12 pr-4 py-4 border-2 border-blue-200 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-saiyan",value:i,onChange:s=>n(s.target.value),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-blue-700 mb-3 tracking-wide",children:"BATTLE PASSWORD"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:j?"text":"password",placeholder:"Create your battle password",className:"w-full pl-4 pr-14 py-4 border-2 border-blue-200 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-saiyan",value:l,onChange:s=>u(s.target.value),required:!0,minLength:4}),e.jsx("button",{type:"button",className:"absolute right-4 top-1/2 -translate-y-1/2 text-blue-500 hover:text-orange-500",onClick:()=>w(s=>!s),tabIndex:-1,children:e.jsx(I,{})})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx("span",{className:"text-xs font-saiyan text-gray-600 tracking-wide",children:"POWER LEVEL:"}),e.jsx("div",{className:"flex space-x-1",children:[...Array(5)].map((s,y)=>e.jsx("div",{className:`w-6 h-3 rounded-full ${y<h?h<=2?"bg-red-500 power-bar active":h<=4?"bg-orange-500 power-bar active":"bg-green-500 power-bar active":"bg-gray-300"}`},y))})]}),e.jsx("span",{className:"text-xs text-red-500 font-medium",children:h<2?"Weak (PL<2000)":h<4?"Medium (PL<5000)":"Strong (PL>9000)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-blue-700 mb-3 tracking-wide",children:"CONFIRM BATTLE PASSWORD"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"password",placeholder:"Confirm your battle password",className:"w-full pl-4 pr-4 py-4 border-2 border-blue-200 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-saiyan",value:c,onChange:s=>b(s.target.value),required:!0})}),c&&l!==c&&e.jsx("span",{className:"text-xs text-red-500 font-medium mt-1 block",children:"Passwords do not match"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",className:"mt-1.5 w-4 h-4 text-blue-600 border-2 border-gray-300 rounded focus:ring-blue-600",checked:S,onChange:s=>C(s.target.checked),id:"promo"}),e.jsxs("label",{htmlFor:"promo",className:"text-sm text-gray-600 font-sans",children:[e.jsx("span",{className:"text-blue-600 font-semibold",children:"Capsule Delivery:"})," ","Send me Senzu Bean deals!"]})]}),f&&e.jsx("div",{className:"text-red-600 text-sm font-medium shake",children:f}),e.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-400 to-orange-600 text-white py-4 rounded-xl font-saiyan font-bold text-lg kamehameha-glow transition-all hover:scale-105 hover:shadow-xl",disabled:o,children:o?"Creating...":"CREATE ACCOUNT"}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-gray-600",children:"Already have a Scouter? "}),e.jsx("span",{className:"text-blue-600 hover:text-orange-400 cursor-pointer font-semibold transition-colors",onClick:d,children:"LOGIN"})]})]})]})}function z(){const[d]=q(),a=N(),{user:x}=E(),[r,m]=t.useState(d.get("tab")||"login");t.useEffect(()=>{x&&a("/")},[x,a]),t.useEffect(()=>{const n=d.get("tab");(n==="signup"||n==="login")&&m(n)},[d]);const i=n=>{m(n),a(`/auth?tab=${n}`,{replace:!0})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"bg-white rounded-t-2xl shadow-lg overflow-hidden",children:e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsx("button",{onClick:()=>i("login"),className:`flex-1 py-4 px-6 font-saiyan text-sm font-bold transition-all duration-300 ${r==="login"?"bg-gradient-to-r from-[#3B4CCA] to-blue-600 text-white":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:"LOGIN"}),e.jsx("button",{onClick:()=>i("signup"),className:`flex-1 py-4 px-6 font-saiyan text-sm font-bold transition-all duration-300 ${r==="signup"?"bg-gradient-to-r from-[#3B4CCA] to-blue-600 text-white":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:"REGISTER"})]})}),e.jsx("div",{className:"bg-white rounded-b-2xl shadow-lg p-8",children:r==="login"?e.jsx(Y,{}):e.jsx(H,{})}),e.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:e.jsxs("p",{children:["Â© ",new Date().getFullYear()," Capsule Corporation. All rights reserved."]})})]})})}export{z as default};
