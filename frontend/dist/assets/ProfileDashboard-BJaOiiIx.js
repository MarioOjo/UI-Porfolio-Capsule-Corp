import{l as h,u as m,n as f,r as o,U as p,j as t}from"./index-C_rhaFlX.js";const i=({title:e,value:s,dark:a})=>t.jsx("div",{className:`p-8 rounded-2xl shadow-lg flex flex-col items-center justify-center ${a?"bg-slate-700 text-white":"bg-white"}`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl md:text-5xl font-bold text-[#3B4CCA] font-saiyan mb-2",children:s}),t.jsx("div",{className:`text-sm ${a?"text-gray-300":"text-gray-600"}`,children:e})]})}),y=()=>{const{user:e}=h(),{isDarkMode:s}=m(),{wishlistItems:a}=f(),[c,d]=o.useState(0),[x,n]=o.useState(0);o.useEffect(()=>{let l=!0;return(async()=>{try{if(e?.id){const r=await p(`/api/orders/user/${e.id}/stats`);l&&r&&(d(parseInt(r.total_orders||0,10)),n(parseFloat(r.total_spent||0)))}}catch(r){console.error("Failed to load orders for dashboard",r),l&&(d(0),n(0))}})(),()=>{l=!1}},[e]);const u=Array.isArray(a)?a.length:0;return t.jsxs("div",{className:`p-6 ${s?"text-white":"text-gray-900"}`,children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6 font-saiyan",children:"My Account"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(i,{title:"Total Orders",value:c,dark:s}),t.jsx(i,{title:"Total Spent",value:`$${x.toFixed(2)}`,dark:s}),t.jsx(i,{title:"My Wishlist",value:u,dark:s})]})]})};export{y as default};
