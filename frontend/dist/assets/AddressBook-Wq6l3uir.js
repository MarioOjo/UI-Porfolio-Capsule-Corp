import{r,j as e,g,H as j,aj as N,l as C,T as v}from"./vendor_react-haPYDNah.js";import{a as A,u as w,b as x}from"./admin-D6GwwKla.js";import"./vendor-Bpvzf4S2.js";const R=()=>{const{user:D}=A(),{showSuccess:c,showError:n}=w(),[u,o]=r.useState([]),[S,h]=r.useState(!0),[f,d]=r.useState(!1),[E,B]=r.useState(null),[t,m]=r.useState({type:"home",name:"",fullName:"",street:"",city:"",state:"",zip:"",phone:""}),l=s=>{m({...t,[s.target.name]:s.target.value})},p=()=>{if(!t.fullName||!t.street||!t.city){n("âŒ Please fill in all required fields");return}(async()=>{try{const s=await x("/api/addresses",{method:"POST",body:JSON.stringify(t)});o(a=>[s.address,...a]),d(!1),m({type:"home",name:"",fullName:"",street:"",city:"",state:"",zip:"",phone:""}),c("âœ… Address added successfully!")}catch{n("âŒ Could not add address")}})()},y=s=>{window.confirm("Are you sure you want to delete this address?")&&(async()=>{try{await x(`/api/addresses/${s}`,{method:"DELETE"}),o(a=>a.filter(i=>i.id!==s)),c("ðŸ—‘ï¸ Address deleted")}catch{n("âŒ Could not delete address")}})()},b=s=>{(async()=>{try{o(a=>a.map(i=>({...i,isDefault:i.id===s}))),c("âœ… Default address updated")}catch{n("âŒ Could not set default")}})()};return r.useEffect(()=>{let s=!0;return(async()=>{try{const a=await x("/api/addresses");s&&o(a.addresses||[])}catch{}finally{s&&h(!1)}})(),()=>{s=!1}},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 py-8 overflow-x-hidden",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#3B4CCA] to-blue-600 rounded-2xl p-8 mb-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-saiyan mb-2",children:"ADDRESS BOOK"}),e.jsx("p",{className:"text-blue-100",children:"Manage your delivery addresses"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"bg-white text-[#3B4CCA] px-6 py-3 rounded-lg font-saiyan font-bold hover:bg-gray-100 transition-all flex items-center space-x-2",children:[e.jsx(g,{}),e.jsx("span",{children:"ADD ADDRESS"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map(s=>e.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 border-2 transition-all hover:shadow-xl ${s.isDefault?"border-[#3B4CCA]":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[s.type==="home"?e.jsx(j,{className:"text-[#3B4CCA]"}):e.jsx(N,{className:"text-[#3B4CCA]"}),e.jsx("span",{className:"font-saiyan text-[#3B4CCA] font-bold",children:s.name||s.type.toUpperCase()})]}),s.isDefault&&e.jsx("span",{className:"bg-green-100 text-green-700 text-xs font-bold px-3 py-1 rounded-full",children:"DEFAULT"})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("p",{className:"font-bold text-gray-800",children:s.fullName}),e.jsx("p",{className:"text-gray-600",children:s.street}),e.jsxs("p",{className:"text-gray-600",children:[s.city,", ",s.state," ",s.zip]}),e.jsx("p",{className:"text-gray-600",children:s.phone})]}),e.jsxs("div",{className:"flex space-x-2 pt-4 border-t border-gray-200",children:[!s.isDefault&&e.jsx("button",{onClick:()=>b(s.id),className:"flex-1 bg-blue-50 text-[#3B4CCA] py-2 px-4 rounded-lg hover:bg-blue-100 transition-all font-saiyan text-sm",children:"SET DEFAULT"}),e.jsx("button",{onClick:()=>y(s.id),className:"bg-red-50 text-red-600 py-2 px-4 rounded-lg hover:bg-red-100 transition-all",children:e.jsx(C,{})})]})]},s.id))}),u.length===0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx(v,{className:"text-6xl text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2 font-saiyan",children:"No Addresses Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Add your first delivery address to get started"}),e.jsx("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-[#3B4CCA] to-blue-600 text-white px-6 py-3 rounded-lg font-saiyan font-bold hover:shadow-lg transition-all",children:"ADD YOUR FIRST ADDRESS"})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 sm:p-2",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 sm:p-4 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-2xl sm:text-xl font-bold text-gray-800 font-saiyan mb-6",children:"ADD NEW ADDRESS"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"ADDRESS TYPE"}),e.jsxs("select",{name:"type",value:t.type,onChange:l,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none",children:[e.jsx("option",{value:"home",children:"Home"}),e.jsx("option",{value:"work",children:"Work"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"FULL NAME *"}),e.jsx("input",{type:"text",name:"fullName",value:t.fullName,onChange:l,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"STREET ADDRESS *"}),e.jsx("input",{type:"text",name:"street",value:t.street,onChange:l,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"CITY *"}),e.jsx("input",{type:"text",name:"city",value:t.city,onChange:l,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"STATE"}),e.jsx("input",{type:"text",name:"state",value:t.state,onChange:l,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"ZIP CODE"}),e.jsx("input",{type:"text",name:"zip",value:t.zip,onChange:l,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"PHONE"}),e.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:l,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4 sm:flex-col sm:space-y-2 sm:space-x-0",children:[e.jsx("button",{onClick:()=>d(!1),className:"flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg font-saiyan font-bold hover:bg-gray-400 transition-colors",children:"CANCEL"}),e.jsx("button",{onClick:p,className:"flex-1 bg-gradient-to-r from-[#3B4CCA] to-blue-600 text-white py-3 px-4 rounded-lg font-saiyan font-bold hover:shadow-lg transition-all",children:"ADD ADDRESS"})]})]})]})})]})})};export{R as default};
