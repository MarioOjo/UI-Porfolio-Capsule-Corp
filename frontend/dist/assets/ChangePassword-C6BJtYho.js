import{r as x,j as e,ac as P,ak as m,i as u,G as l,ai as c}from"./vendor_react-haPYDNah.js";import{a as v,u as C}from"./admin-D6GwwKla.js";import"./vendor-Bpvzf4S2.js";const R=()=>{const{user:S}=v(),{showSuccess:j,showError:o}=C(),[s,h]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,g]=x.useState({current:!1,new:!1,confirm:!1}),[n,w]=x.useState(0),i=t=>{const{name:r,value:f}=t.target;h({...s,[r]:f}),r==="newPassword"&&b(f)},b=t=>{let r=0;t.length>=8&&r++,t.length>=12&&r++,/[a-z]/.test(t)&&/[A-Z]/.test(t)&&r++,/\d/.test(t)&&r++,/[!@#$%^&*(),.?":{}|<>]/.test(t)&&r++,w(r)},y=()=>n===0?{text:"Too Weak",color:"text-red-600"}:n<=2?{text:"Weak",color:"text-orange-600"}:n<=3?{text:"Fair",color:"text-yellow-600"}:n<=4?{text:"Good",color:"text-blue-600"}:{text:"Strong",color:"text-green-600"},N=async t=>{if(t.preventDefault(),!s.currentPassword||!s.newPassword||!s.confirmPassword){o("‚ùå Please fill in all fields");return}if(s.newPassword.length<8){o("‚ùå New password must be at least 8 characters");return}if(s.newPassword!==s.confirmPassword){o("‚ùå New passwords do not match");return}if(s.currentPassword===s.newPassword){o("‚ùå New password must be different from current password");return}try{j("‚úÖ Password changed successfully! Your power level just increased!"),h({currentPassword:"",newPassword:"",confirmPassword:""}),w(0)}catch{o("‚ùå Failed to change password. Please check your current password.")}},d=t=>{g({...a,[t]:!a[t]})},p=y();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#3B4CCA] to-blue-600 rounded-2xl p-8 mb-6 text-white",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:e.jsx(P,{className:"text-3xl"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-saiyan mb-2",children:"CHANGE PASSWORD"}),e.jsx("p",{className:"text-blue-100",children:"Secure your Capsule Corp account"})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"CURRENT PASSWORD *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:a.current?"text":"password",name:"currentPassword",value:s.currentPassword,onChange:i,className:"w-full px-4 py-3 pr-12 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none",required:!0}),e.jsx("button",{type:"button",onClick:()=>d("current"),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-[#3B4CCA] transition-colors",children:a.current?e.jsx(m,{}):e.jsx(u,{})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"NEW PASSWORD *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:a.new?"text":"password",name:"newPassword",value:s.newPassword,onChange:i,className:"w-full px-4 py-3 pr-12 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none",required:!0}),e.jsx("button",{type:"button",onClick:()=>d("new"),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-[#3B4CCA] transition-colors",children:a.new?e.jsx(m,{}):e.jsx(u,{})})]}),s.newPassword&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Password Strength:"}),e.jsx("span",{className:`text-sm font-bold ${p.color}`,children:p.text})]}),e.jsx("div",{className:"flex space-x-1",children:[...Array(5)].map((t,r)=>e.jsx("div",{className:`h-2 flex-1 rounded-full transition-all ${r<n?n<=2?"bg-red-500":n<=3?"bg-yellow-500":"bg-green-500":"bg-gray-200"}`},r))}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("p",{className:"text-xs text-gray-600 flex items-center space-x-2",children:[s.newPassword.length>=8?e.jsx(l,{className:"text-green-500"}):e.jsx(c,{className:"text-red-500"}),e.jsx("span",{children:"At least 8 characters"})]}),e.jsxs("p",{className:"text-xs text-gray-600 flex items-center space-x-2",children:[/[a-z]/.test(s.newPassword)&&/[A-Z]/.test(s.newPassword)?e.jsx(l,{className:"text-green-500"}):e.jsx(c,{className:"text-red-500"}),e.jsx("span",{children:"Uppercase & lowercase letters"})]}),e.jsxs("p",{className:"text-xs text-gray-600 flex items-center space-x-2",children:[/\d/.test(s.newPassword)?e.jsx(l,{className:"text-green-500"}):e.jsx(c,{className:"text-red-500"}),e.jsx("span",{children:"At least one number"})]}),e.jsxs("p",{className:"text-xs text-gray-600 flex items-center space-x-2",children:[/[!@#$%^&*(),.?":{}|<>]/.test(s.newPassword)?e.jsx(l,{className:"text-green-500"}):e.jsx(c,{className:"text-red-500"}),e.jsx("span",{children:"Special character (!@#$%...)"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"CONFIRM NEW PASSWORD *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:a.confirm?"text":"password",name:"confirmPassword",value:s.confirmPassword,onChange:i,className:"w-full px-4 py-3 pr-12 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none",required:!0}),e.jsx("button",{type:"button",onClick:()=>d("confirm"),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-[#3B4CCA] transition-colors",children:a.confirm?e.jsx(m,{}):e.jsx(u,{})})]}),s.confirmPassword&&e.jsx("div",{className:"mt-2",children:s.newPassword===s.confirmPassword?e.jsxs("p",{className:"text-sm text-green-600 flex items-center space-x-2",children:[e.jsx(l,{}),e.jsx("span",{children:"Passwords match"})]}):e.jsxs("p",{className:"text-sm text-red-600 flex items-center space-x-2",children:[e.jsx(c,{}),e.jsx("span",{children:"Passwords do not match"})]})})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-[#3B4CCA] to-blue-600 text-white py-4 px-6 rounded-lg font-saiyan font-bold text-lg hover:shadow-xl transition-all hover:scale-105",children:"UPDATE PASSWORD"})})]}),e.jsxs("div",{className:"mt-8 p-6 bg-blue-50 rounded-lg border-2 border-blue-200",children:[e.jsx("h3",{className:"font-saiyan text-[#3B4CCA] font-bold mb-3",children:"üõ°Ô∏è SECURITY TIPS"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsx("li",{children:"‚Ä¢ Use a unique password you don't use anywhere else"}),e.jsx("li",{children:"‚Ä¢ Avoid common words or personal information"}),e.jsx("li",{children:"‚Ä¢ Change your password regularly (every 3-6 months)"}),e.jsx("li",{children:"‚Ä¢ Never share your password with anyone"}),e.jsx("li",{children:"‚Ä¢ Use a password manager to keep track of passwords"})]})]})]})]})})};export{R as default};
