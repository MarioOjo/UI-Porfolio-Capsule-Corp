import{a as e,j as a,c as B,o as T,r,f,O,Y as F,ap as z,al as R,a1 as j,ad as I}from"./index-94148467.js";function P({isOpen:p,message:y="Are you sure?",onConfirm:i,onCancel:n}){return p?e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60 p-4",children:a("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[e("h3",{className:"text-lg font-bold mb-2",children:"Confirmation"}),e("p",{className:"text-sm text-gray-700 mb-4",children:y}),a("div",{className:"flex justify-end space-x-3",children:[e("button",{onClick:n,className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e("button",{onClick:i,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Yes, delete"})]})]})}):null}const U=()=>{const p=t=>{g(t),m({type:t.type||"home",name:t.name||"",fullName:t.fullName||"",street:t.street||"",city:t.city||"",state:t.state||"",zip:t.zip||"",phone:t.phone||""}),d(!0)},y=()=>{if(!l.fullName||!l.street||!l.city){n("❌ Please fill in all required fields");return}(async()=>{try{const t=await f(`/api/addresses/${u.id}`,{method:"PUT",body:JSON.stringify(l)});c(s=>s.map(h=>h.id===u.id?t.address:h)),d(!1),g(null),m({type:"home",name:"",fullName:"",street:"",city:"",state:"",zip:"",phone:""}),i("✅ Address updated!")}catch{n("❌ Could not update address")}})()};B();const{showSuccess:i,showError:n}=T(),[C,c]=r.useState([]),[L,v]=r.useState(!0),[A,d]=r.useState(!1),[u,g]=r.useState(null),[l,m]=r.useState({type:"home",name:"",fullName:"",street:"",city:"",state:"",zip:"",phone:""}),o=t=>{m({...l,[t.target.name]:t.target.value})},w=()=>{if(!l.fullName||!l.street||!l.city){n("❌ Please fill in all required fields");return}(async()=>{try{const t=await f("/api/addresses",{method:"POST",body:JSON.stringify(l)});c(s=>[t.address,...s]),d(!1),m({type:"home",name:"",fullName:"",street:"",city:"",state:"",zip:"",phone:""}),i("✅ Address added successfully!")}catch{n("❌ Could not add address")}})()},D=t=>{N(t),b(!0)},[S,b]=r.useState(!1),[x,N]=r.useState(null),E=async()=>{if(x)try{await f(`/api/addresses/${x}`,{method:"DELETE"}),c(t=>t.filter(s=>s.id!==x)),i("🗑️ Address deleted")}catch{n("❌ Could not delete address")}finally{b(!1),N(null)}},k=t=>{(async()=>{try{c(s=>s.map(h=>({...h,isDefault:h.id===t}))),i("✅ Default address updated")}catch{n("❌ Could not set default")}})()};return r.useEffect(()=>{let t=!0;return(async()=>{try{const s=await f("/api/addresses");t&&c(s.addresses||[])}catch{}finally{t&&v(!1)}})(),()=>{t=!1}},[]),e("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 py-8 overflow-x-hidden",children:a("div",{className:"max-w-5xl mx-auto px-4",children:[e("div",{className:"bg-gradient-to-r from-[#3B4CCA] to-blue-600 rounded-2xl p-8 mb-6 text-white",children:a("div",{className:"flex items-center justify-between",children:[a("div",{children:[e("h1",{className:"text-3xl font-bold font-saiyan mb-2",children:"ADDRESS BOOK"}),e("p",{className:"text-blue-100",children:"Manage your delivery addresses"})]}),a("button",{onClick:()=>d(!0),className:"bg-white text-[#3B4CCA] px-6 py-3 rounded-lg font-saiyan font-bold hover:bg-gray-100 transition-all flex items-center space-x-2",children:[e(O,{}),e("span",{children:"ADD ADDRESS"})]})]})}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:C.map(t=>a("div",{className:`bg-white rounded-xl shadow-lg p-6 border-2 transition-all hover:shadow-xl ${t.isDefault?"border-[#3B4CCA]":"border-gray-200"}`,children:[a("div",{className:"flex items-center justify-between mb-4",children:[a("div",{className:"flex items-center space-x-2",children:[t.type==="home"?e(F,{className:"text-[#3B4CCA]"}):e(z,{className:"text-[#3B4CCA]"}),e("span",{className:"font-saiyan text-[#3B4CCA] font-bold",children:t.name||t.type.toUpperCase()})]}),t.isDefault&&e("span",{className:"bg-green-100 text-green-700 text-xs font-bold px-3 py-1 rounded-full",children:"DEFAULT"})]}),a("div",{className:"space-y-2 mb-4",children:[e("p",{className:"font-bold text-gray-800",children:t.fullName}),e("p",{className:"text-gray-600",children:t.street}),a("p",{className:"text-gray-600",children:[t.city,", ",t.state," ",t.zip]}),e("p",{className:"text-gray-600",children:t.phone})]}),a("div",{className:"flex space-x-2 pt-4 border-t border-gray-200",children:[a("button",{onClick:()=>p(t),className:"bg-yellow-50 text-yellow-700 py-2 px-4 rounded-lg hover:bg-yellow-100 transition-all flex items-center",children:[e(R,{className:"mr-1"})," EDIT"]}),!t.isDefault&&e("button",{onClick:()=>k(t.id),className:"flex-1 bg-blue-50 text-[#3B4CCA] py-2 px-4 rounded-lg hover:bg-blue-100 transition-all font-saiyan text-sm",children:"SET DEFAULT"}),e("button",{onClick:()=>D(t.id),className:"bg-red-50 text-red-600 py-2 px-4 rounded-lg hover:bg-red-100 transition-all",children:e(j,{})})]})]},t.id))}),C.length===0&&a("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e(I,{className:"text-6xl text-gray-300 mx-auto mb-4"}),e("h3",{className:"text-xl font-bold text-gray-800 mb-2 font-saiyan",children:"No Addresses Yet"}),e("p",{className:"text-gray-600 mb-6",children:"Add your first delivery address to get started"}),e("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-[#3B4CCA] to-blue-600 text-white px-6 py-3 rounded-lg font-saiyan font-bold hover:shadow-lg transition-all",children:"ADD YOUR FIRST ADDRESS"})]}),A&&e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 sm:p-2",children:a("div",{className:"bg-white rounded-2xl p-8 sm:p-4 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e("h3",{className:"text-2xl sm:text-xl font-bold text-gray-800 font-saiyan mb-6",children:u?"EDIT ADDRESS":"ADD NEW ADDRESS"}),a("div",{className:"space-y-4",children:[a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"ADDRESS TYPE"}),a("select",{name:"type",value:l.type,onChange:o,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none",children:[e("option",{value:"home",children:"Home"}),e("option",{value:"work",children:"Work"}),e("option",{value:"other",children:"Other"})]})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"FULL NAME *"}),e("input",{type:"text",name:"fullName",value:l.fullName,onChange:o,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none",required:!0})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"STREET ADDRESS *"}),e("input",{type:"text",name:"street",value:l.street,onChange:o,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none",required:!0})]}),a("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-4",children:[a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"CITY *"}),e("input",{type:"text",name:"city",value:l.city,onChange:o,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none",required:!0})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"STATE"}),e("input",{type:"text",name:"state",value:l.state,onChange:o,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none"})]})]}),a("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-4",children:[a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"ZIP CODE"}),e("input",{type:"text",name:"zip",value:l.zip,onChange:o,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none"})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"PHONE"}),e("input",{type:"tel",name:"phone",value:l.phone,onChange:o,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none"})]})]}),a("div",{className:"flex space-x-3 pt-4 sm:flex-col sm:space-y-2 sm:space-x-0",children:[e("button",{onClick:()=>{d(!1),g(null),m({type:"home",name:"",fullName:"",street:"",city:"",state:"",zip:"",phone:""})},className:"flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg font-saiyan font-bold hover:bg-gray-400 transition-colors",children:"CANCEL"}),e("button",{onClick:u?y:w,className:"flex-1 bg-gradient-to-r from-[#3B4CCA] to-blue-600 text-white py-3 px-4 rounded-lg font-saiyan font-bold hover:shadow-lg transition-all",children:u?"SAVE CHANGES":"ADD ADDRESS"})]})]})]})}),e(P,{isOpen:S,message:"Are you sure you want to delete this address?",onConfirm:E,onCancel:()=>{b(!1),N(null)}})]})})};export{U as default};
