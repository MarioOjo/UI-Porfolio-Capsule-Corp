import{d as N,c as y,K as v,a as e,j as a,M as w,f as C,L as n,a0 as x,N as u,O as g}from"./index-49c0c10e.js";import{P as l}from"./Price-0dab22b8.js";function S(){const{cartItems:s,updateQuantity:r,removeFromCart:o,getCartTotal:b,clearCart:p}=N(),{user:c}=y(),i=v(),f=()=>{if(!c){i("/auth");return}i("/checkout")},d=b();return e("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 overflow-x-hidden",children:a("div",{className:"max-w-6xl mx-auto px-4 py-4 sm:py-8 p-4",children:[a("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 sm:mb-8 gap-4",children:[a("div",{children:[e("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800 font-saiyan",children:"CAPSULE CART"}),a("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:[s.length," ",s.length===1?"item":"items"," in your capsule collection"]})]}),a("button",{onClick:()=>i(-1),className:"flex items-center space-x-2 text-blue-600 hover:text-orange-600 transition-colors font-saiyan text-sm sm:text-base",children:[e(w,{}),e("span",{className:"hidden sm:inline",children:"CONTINUE SHOPPING"}),e("span",{className:"sm:hidden",children:"BACK"})]})]}),s.length===0?a("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[e(C,{className:"text-6xl text-gray-300 mx-auto mb-6"}),e("h2",{className:"text-2xl font-bold text-gray-800 mb-4 font-saiyan",children:"YOUR CART IS EMPTY"}),e("p",{className:"text-gray-600 mb-8",children:"Ready to power up? Start adding some legendary gear to your collection!"}),e(n,{to:"/products",className:"inline-block bg-gradient-to-r from-orange-400 to-orange-600 text-white px-8 py-3 rounded-xl font-saiyan font-bold kamehameha-glow transition-all hover:scale-105 hover:shadow-xl",children:"EXPLORE CAPSULES"})]}):a("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a("div",{className:"lg:col-span-2 space-y-4",children:[s.map(t=>e("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all",children:e("div",{className:"p-4 sm:p-6",children:a("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[a("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-xl flex-shrink-0 overflow-hidden",children:[e("img",{src:t.image||t.imageUrl,alt:t.name,className:"w-full h-full object-cover",onError:m=>{m.target.style.display="none";const h=m.target.parentElement.querySelector(".image-fallback");h&&(h.style.display="flex")}}),e("div",{className:"image-fallback w-full h-full bg-gradient-to-br from-[#3B4CCA] to-blue-600 hidden items-center justify-center p-2",children:e("span",{className:"text-white font-bold text-xs text-center",children:t.name})})]}),a("div",{className:"flex-1 min-w-0 w-full sm:w-auto",children:[a("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e(n,{to:`/product/${t.slug}`,className:"text-lg sm:text-xl font-bold text-gray-800 hover:text-orange-600 transition-colors font-saiyan line-clamp-2",children:t.name}),e("button",{onClick:()=>o(t.id),className:"text-red-500 hover:text-red-700 transition-colors p-2 sm:hidden flex-shrink-0","aria-label":`Remove ${t.name} from cart`,children:e(x,{})})]}),e("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:t.category}),a("div",{className:"flex items-center mt-2",children:[e("span",{className:"text-xs sm:text-sm text-gray-600",children:"Power Level: "}),e("span",{className:"text-xs sm:text-sm font-bold text-orange-600 ml-1",children:Number(t.powerLevel||t.power_level||0).toLocaleString()})]}),a("div",{className:"flex items-center justify-between mt-4 sm:hidden",children:[a("div",{className:"flex items-center space-x-2",children:[e("button",{onClick:()=>r(t.id,t.quantity-1),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-orange-200 transition-colors touch-target",disabled:t.quantity<=1,children:e(u,{className:"text-xs"})}),e("span",{className:"w-8 text-center font-bold",children:t.quantity}),e("button",{onClick:()=>r(t.id,t.quantity+1),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-orange-200 transition-colors touch-target",children:e(g,{className:"text-xs"})})]}),a("div",{className:"text-right",children:[e("div",{className:"text-xl font-bold text-orange-600 font-saiyan",children:e(l,{value:parseFloat(t.price)*t.quantity})}),a("div",{className:"text-xs text-gray-600",children:[e(l,{value:parseFloat(t.price)})," each"]})]})]})]}),a("div",{className:"hidden sm:flex items-center space-x-3",children:[e("button",{onClick:()=>r(t.id,t.quantity-1),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-orange-200 transition-colors",disabled:t.quantity<=1,children:e(u,{className:"text-xs"})}),e("span",{className:"w-8 text-center font-bold",children:t.quantity}),e("button",{onClick:()=>r(t.id,t.quantity+1),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-orange-200 transition-colors",children:e(g,{className:"text-xs"})})]}),a("div",{className:"hidden sm:block text-right",children:[e("div",{className:"text-2xl font-bold text-orange-600 font-saiyan",children:e(l,{value:parseFloat(t.price)*t.quantity})}),a("div",{className:"text-sm text-gray-600",children:[e(l,{value:parseFloat(t.price)})," each"]})]}),e("button",{onClick:()=>o(t.id),className:"hidden sm:block text-red-500 hover:text-red-700 transition-colors p-2","aria-label":`Remove ${t.name} from cart`,children:e(x,{})})]})})},t.id)),e("div",{className:"text-center pt-4",children:e("button",{onClick:p,className:"text-red-500 hover:text-red-700 transition-colors font-medium",children:"Clear All Items"})})]}),e("div",{className:"lg:col-span-1",children:a("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8",children:[e("h3",{className:"text-2xl font-bold text-gray-800 mb-6 font-saiyan",children:"ORDER SUMMARY"}),a("div",{className:"space-y-4 mb-6",children:[a("div",{className:"flex justify-between items-center",children:[e("span",{className:"text-gray-600",children:"Subtotal:"}),e("span",{className:"font-bold",children:e(l,{value:d})})]}),a("div",{className:"flex justify-between items-center",children:[e("span",{className:"text-gray-600",children:"Shipping:"}),e("span",{className:"font-bold text-green-600",children:"FREE"})]}),a("div",{className:"flex justify-between items-center",children:[e("span",{className:"text-gray-600",children:"Power Level Bonus:"}),e("span",{className:"font-bold text-blue-600",children:"Applied"})]}),e("hr",{className:"border-gray-200"}),a("div",{className:"flex justify-between items-center text-xl",children:[e("span",{className:"font-bold text-gray-800",children:"Total:"}),e("span",{className:"font-bold text-orange-600 font-saiyan",children:e(l,{value:d})})]})]}),e("button",{onClick:f,className:"w-full bg-gradient-to-r from-orange-400 to-orange-600 text-white py-4 rounded-xl font-saiyan font-bold text-lg kamehameha-glow transition-all hover:scale-105 hover:shadow-xl mb-4",children:c?"PROCEED TO CHECKOUT":"LOGIN TO CHECKOUT"}),e(n,{to:"/products",className:"block w-full text-center bg-gray-100 text-gray-700 py-3 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Continue Shopping"}),a("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e("h4",{className:"font-bold text-gray-800 mb-3",children:"üõ°Ô∏è Secure Checkout"}),a("div",{className:"space-y-2 text-sm text-gray-600",children:[e("div",{children:"‚úÖ Capsule Corp Encryption"}),e("div",{children:"‚úÖ Saiyan-Grade Security"}),e("div",{children:"‚úÖ Dragon Ball Warranty"})]})]})]})})]}),s.length>0&&a("div",{className:"mt-8 bg-gradient-to-r from-blue-900 via-purple-900 to-blue-900 rounded-2xl shadow-lg p-6 border-2 border-orange-400",children:[a("div",{className:"flex items-start space-x-3 mb-4",children:[e("div",{className:"text-3xl",children:"‚ö°"}),a("div",{children:[e("h3",{className:"text-xl font-bold text-white font-saiyan mb-2",children:"CAPSULE CORP ALERT"}),e("p",{className:"text-blue-200 text-sm italic",children:"Read this carefully before your legendary purchase!"})]})]}),a("div",{className:"space-y-4 text-sm text-blue-100",children:[e("div",{className:"bg-blue-950/50 rounded-lg p-4 border border-blue-700/50",children:a("div",{className:"flex items-start space-x-2",children:[e("span",{className:"text-orange-400 font-bold",children:"‚ö†Ô∏è"}),a("div",{children:[e("span",{className:"font-semibold text-orange-300",children:"Reservation Policy:"}),e("p",{className:"mt-1",children:"Placing an order or adding an item to your capsule collection does not reserve the item or lock the price. Items are only secured once your payment has been received and processed by our Earth Defense systems."})]})]})}),e("div",{className:"bg-blue-950/50 rounded-lg p-4 border border-blue-700/50",children:a("div",{className:"flex items-start space-x-2",children:[e("span",{className:"text-green-400 font-bold",children:"üöÄ"}),a("div",{children:[e("span",{className:"font-semibold text-green-300",children:"Instant Transmission Delivery:"}),e("p",{className:"mt-1",children:"FREE delivery on eligible capsules is only available to main cities and training grounds. Remote locations may require additional Senzu Bean courier fees. Delivery charges are calculated based on your coordinates and shown before final confirmation."})]})]})}),e("div",{className:"bg-blue-950/50 rounded-lg p-4 border border-blue-700/50",children:a("div",{className:"flex items-start space-x-2",children:[e("span",{className:"text-purple-400 font-bold",children:"‚è∞"}),a("div",{children:[e("span",{className:"font-semibold text-purple-300",children:"Hyperbolic Time Processing:"}),e("p",{className:"mt-1",children:"Orders placed after business hours (6:00 PM EST), on weekends, or during Galactic holidays will be processed the following business day. Our Capsule Corp engineers need rest too!"})]})]})}),e("div",{className:"bg-blue-950/50 rounded-lg p-4 border border-blue-700/50",children:a("div",{className:"flex items-start space-x-2",children:[e("span",{className:"text-yellow-400 font-bold",children:"üì¶"}),a("div",{children:[e("span",{className:"font-semibold text-yellow-300",children:"Power Level Preparation Time:"}),a("p",{className:"mt-1",children:[e(n,{to:"/shipping-info",className:"text-orange-300 hover:text-orange-400 underline font-medium",children:"Click here to view current estimated lead times"})," ","for order processing and capsule preparation. High-power items may require additional charging time."]})]})]})})]}),e("div",{className:"mt-4 pt-4 border-t border-blue-700/50 text-center",children:e("p",{className:"text-xs text-blue-300",children:"‚≠ê Capsule Corp - Serving Earth's Warriors Since Age 712 ‚≠ê"})})]})]})})}export{S as default};
