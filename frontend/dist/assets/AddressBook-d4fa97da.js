import{c as N,o as C,r as n,h as m,a as e,j as a,O as v,X as A,an as w,a0 as D,ab as S}from"./index-3331d913.js";const k=()=>{N();const{showSuccess:u,showError:o}=C(),[h,d]=n.useState([]),[E,p]=n.useState(!0),[y,i]=n.useState(!1);n.useState(null);const[l,f]=n.useState({type:"home",name:"",fullName:"",street:"",city:"",state:"",zip:"",phone:""}),r=t=>{f({...l,[t.target.name]:t.target.value})},b=()=>{if(!l.fullName||!l.street||!l.city){o("❌ Please fill in all required fields");return}(async()=>{try{const t=await m("/api/addresses",{method:"POST",body:JSON.stringify(l)});d(s=>[t.address,...s]),i(!1),f({type:"home",name:"",fullName:"",street:"",city:"",state:"",zip:"",phone:""}),u("✅ Address added successfully!")}catch{o("❌ Could not add address")}})()},x=t=>{window.confirm("Are you sure you want to delete this address?")&&(async()=>{try{await m(`/api/addresses/${t}`,{method:"DELETE"}),d(s=>s.filter(c=>c.id!==t)),u("🗑️ Address deleted")}catch{o("❌ Could not delete address")}})()},g=t=>{(async()=>{try{d(s=>s.map(c=>({...c,isDefault:c.id===t}))),u("✅ Default address updated")}catch{o("❌ Could not set default")}})()};return n.useEffect(()=>{let t=!0;return(async()=>{try{const s=await m("/api/addresses");t&&d(s.addresses||[])}catch{}finally{t&&p(!1)}})(),()=>{t=!1}},[]),e("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 py-8 overflow-x-hidden",children:a("div",{className:"max-w-5xl mx-auto px-4",children:[e("div",{className:"bg-gradient-to-r from-[#3B4CCA] to-blue-600 rounded-2xl p-8 mb-6 text-white",children:a("div",{className:"flex items-center justify-between",children:[a("div",{children:[e("h1",{className:"text-3xl font-bold font-saiyan mb-2",children:"ADDRESS BOOK"}),e("p",{className:"text-blue-100",children:"Manage your delivery addresses"})]}),a("button",{onClick:()=>i(!0),className:"bg-white text-[#3B4CCA] px-6 py-3 rounded-lg font-saiyan font-bold hover:bg-gray-100 transition-all flex items-center space-x-2",children:[e(v,{}),e("span",{children:"ADD ADDRESS"})]})]})}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.map(t=>a("div",{className:`bg-white rounded-xl shadow-lg p-6 border-2 transition-all hover:shadow-xl ${t.isDefault?"border-[#3B4CCA]":"border-gray-200"}`,children:[a("div",{className:"flex items-center justify-between mb-4",children:[a("div",{className:"flex items-center space-x-2",children:[t.type==="home"?e(A,{className:"text-[#3B4CCA]"}):e(w,{className:"text-[#3B4CCA]"}),e("span",{className:"font-saiyan text-[#3B4CCA] font-bold",children:t.name||t.type.toUpperCase()})]}),t.isDefault&&e("span",{className:"bg-green-100 text-green-700 text-xs font-bold px-3 py-1 rounded-full",children:"DEFAULT"})]}),a("div",{className:"space-y-2 mb-4",children:[e("p",{className:"font-bold text-gray-800",children:t.fullName}),e("p",{className:"text-gray-600",children:t.street}),a("p",{className:"text-gray-600",children:[t.city,", ",t.state," ",t.zip]}),e("p",{className:"text-gray-600",children:t.phone})]}),a("div",{className:"flex space-x-2 pt-4 border-t border-gray-200",children:[!t.isDefault&&e("button",{onClick:()=>g(t.id),className:"flex-1 bg-blue-50 text-[#3B4CCA] py-2 px-4 rounded-lg hover:bg-blue-100 transition-all font-saiyan text-sm",children:"SET DEFAULT"}),e("button",{onClick:()=>x(t.id),className:"bg-red-50 text-red-600 py-2 px-4 rounded-lg hover:bg-red-100 transition-all",children:e(D,{})})]})]},t.id))}),h.length===0&&a("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e(S,{className:"text-6xl text-gray-300 mx-auto mb-4"}),e("h3",{className:"text-xl font-bold text-gray-800 mb-2 font-saiyan",children:"No Addresses Yet"}),e("p",{className:"text-gray-600 mb-6",children:"Add your first delivery address to get started"}),e("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-[#3B4CCA] to-blue-600 text-white px-6 py-3 rounded-lg font-saiyan font-bold hover:shadow-lg transition-all",children:"ADD YOUR FIRST ADDRESS"})]}),y&&e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 sm:p-2",children:a("div",{className:"bg-white rounded-2xl p-8 sm:p-4 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e("h3",{className:"text-2xl sm:text-xl font-bold text-gray-800 font-saiyan mb-6",children:"ADD NEW ADDRESS"}),a("div",{className:"space-y-4",children:[a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"ADDRESS TYPE"}),a("select",{name:"type",value:l.type,onChange:r,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none",children:[e("option",{value:"home",children:"Home"}),e("option",{value:"work",children:"Work"}),e("option",{value:"other",children:"Other"})]})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"FULL NAME *"}),e("input",{type:"text",name:"fullName",value:l.fullName,onChange:r,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none",required:!0})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"STREET ADDRESS *"}),e("input",{type:"text",name:"street",value:l.street,onChange:r,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none",required:!0})]}),a("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-4",children:[a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"CITY *"}),e("input",{type:"text",name:"city",value:l.city,onChange:r,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none",required:!0})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"STATE"}),e("input",{type:"text",name:"state",value:l.state,onChange:r,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none"})]})]}),a("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-4",children:[a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"ZIP CODE"}),e("input",{type:"text",name:"zip",value:l.zip,onChange:r,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none"})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"PHONE"}),e("input",{type:"tel",name:"phone",value:l.phone,onChange:r,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#3B4CCA] focus:outline-none"})]})]}),a("div",{className:"flex space-x-3 pt-4 sm:flex-col sm:space-y-2 sm:space-x-0",children:[e("button",{onClick:()=>i(!1),className:"flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg font-saiyan font-bold hover:bg-gray-400 transition-colors",children:"CANCEL"}),e("button",{onClick:b,className:"flex-1 bg-gradient-to-r from-[#3B4CCA] to-blue-600 text-white py-3 px-4 rounded-lg font-saiyan font-bold hover:shadow-lg transition-all",children:"ADD ADDRESS"})]})]})]})})]})})};export{k as default};
