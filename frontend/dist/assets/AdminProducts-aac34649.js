import{c as G,K as M,r as g,a as e,j as a,M as q,O as $,I as U,V as z,aj as J,a0 as B,h as E}from"./index-3331d913.js";import{P as D}from"./Price-77cf65dd.js";function Q(){var L;const{user:n}=G(),x=M(),[c,d]=g.useState([]),[C,v]=g.useState(!0),[b,N]=g.useState(null),[p,h]=g.useState(""),[k,u]=g.useState("all"),[f,S]=g.useState(!1),[A,l]=g.useState(!1),[r,o]=g.useState(null);g.useEffect(()=>{var s;if(!n){x("/auth");return}if(!(((s=n.email)==null?void 0:s.includes("admin"))||n.role==="admin"||n.email==="mario@capsulecorp.com")){x("/");return}},[n,x]),g.useEffect(()=>{var s;const t=async()=>{try{v(!0),N(null);const i=await E("/api/products");d(i.products||[])}catch(i){console.error("Error fetching products:",i),N("Failed to load products. Please try again.")}finally{v(!1)}};n&&((s=n.email)!=null&&s.includes("admin")||n.role==="admin"||n.email==="mario@capsulecorp.com")&&t()},[n]);const y=c.filter(t=>{if(!t)return!1;const s=t.name||"",i=t.description||"",w=t.category||"";return(s.toLowerCase().includes(p.toLowerCase())||i.toLowerCase().includes(p.toLowerCase()))&&(k==="all"||w===k)}),T=[...new Set(c.map(t=>t&&t.category).filter(Boolean))],F=async t=>{if(window.confirm("⚠️ Are you sure you want to delete this product? This action cannot be undone!"))try{await E(`/api/products/${t}`,{method:"DELETE"}),d(c.filter(s=>s.id!==t))}catch(s){console.error("Error deleting product:",s),alert("❌ Failed to delete product. Please try again.")}},R=t=>{o(t),l(!0)},I=async t=>{try{let s;if(t.imageFiles&&t.imageFiles.length){const i=new FormData;i.append("name",t.name),i.append("slug",t.slug),i.append("description",t.description),i.append("category",t.category),i.append("price",String(t.price)),i.append("original_price",String(t.originalPrice||t.price)),i.append("power_level",String(t.powerLevel||0)),i.append("in_stock",t.inStock?"1":"0"),i.append("stock",String(t.stock)),i.append("featured",t.featured?"1":"0"),i.append("tags",JSON.stringify(t.tags||[])),i.append("specifications",JSON.stringify(t.specifications||{})),t.imageFiles.forEach(w=>i.append("images",w)),t.gallery&&t.gallery.length&&i.append("gallery",JSON.stringify(t.gallery)),s=await E(`/api/products/${t.id}`,{method:"PUT",body:i})}else s=await E(`/api/products/${t.id}`,{method:"PUT",body:JSON.stringify({name:t.name,slug:t.slug,description:t.description,category:t.category,price:t.price,original_price:t.originalPrice||t.price,power_level:t.powerLevel,image:t.image||t.imageUrl,gallery:t.gallery||[],in_stock:t.inStock,stock:t.stock,featured:t.featured||!1,tags:t.tags||[],specifications:t.specifications||{}})});d(c.map(i=>i.id===t.id?s.product:i)),l(!1),o(null)}catch(s){console.error("Error updating product:",s),alert("❌ Failed to update product. Please try again.")}},_=async t=>{var s,i;try{let w;if(t.imageFiles&&t.imageFiles.length){const m=new FormData;m.append("name",t.name),m.append("slug",t.name.toLowerCase().replace(/\s+/g,"-")),m.append("description",t.description),m.append("category",t.category),m.append("price",String(t.price)),m.append("original_price",String(t.price)),m.append("power_level",String(t.powerLevel||0)),m.append("in_stock",t.inStock?"1":"0"),m.append("stock",String(t.stock)),m.append("featured","0"),m.append("tags",JSON.stringify([])),m.append("specifications",JSON.stringify({})),t.imageFiles.forEach(O=>m.append("images",O)),t.imageUrls&&t.imageUrls.length&&m.append("gallery",JSON.stringify(t.imageUrls)),w=await E("/api/products",{method:"POST",body:m})}else w=await E("/api/products",{method:"POST",body:JSON.stringify({name:t.name,slug:t.name.toLowerCase().replace(/\s+/g,"-"),description:t.description,category:t.category,price:t.price,original_price:t.price,power_level:t.powerLevel,image:((s=t.imageUrls)==null?void 0:s[0])||"https://res.cloudinary.com/dx8wt3el4/image/upload/v1759096578/c3_kamzog.jpg",gallery:(i=t.imageUrls)!=null&&i.length?t.imageUrls:["https://res.cloudinary.com/dx8wt3el4/image/upload/v1759096578/c3_kamzog.jpg"],in_stock:t.inStock,stock:t.stock,featured:!1,tags:[],specifications:{}})});d([...c,w.product]),S(!1)}catch(w){console.error("Error adding product:",w),alert("❌ Failed to add product. Please try again.")}},j=t=>{const s=t.inStock||t.in_stock,i=t.stock;return s?i<=5?{text:"Low Stock",color:"text-orange-600 bg-orange-100"}:{text:"In Stock",color:"text-green-600 bg-green-100"}:{text:"Out of Stock",color:"text-red-600 bg-red-100"}};return n?((L=n.email)==null?void 0:L.includes("admin"))||n.role==="admin"||n.email==="mario@capsulecorp.com"?C?e("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:a("div",{className:"text-center",children:[e("div",{className:"animate-spin w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full mx-auto mb-4"}),e("p",{className:"text-gray-600 font-saiyan",children:"LOADING PRODUCTS..."})]})}):b?e("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:e("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-6",children:a("div",{className:"text-center",children:[e("div",{className:"text-4xl mb-4",children:"⚠️"}),e("h3",{className:"text-xl font-bold text-red-800 mb-2 font-saiyan",children:"ERROR"}),e("p",{className:"text-red-600 mb-4",children:b}),e("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-6 py-2 rounded-xl font-saiyan hover:bg-red-700 transition-all",children:"TRY AGAIN"})]})})}):a("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50",children:[e("header",{className:"bg-gradient-to-r from-[#3B4CCA] to-blue-600 shadow-lg",children:e("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a("div",{className:"flex items-center justify-between",children:[a("div",{className:"flex items-center space-x-4",children:[e("button",{onClick:()=>x("/admin"),className:"text-white hover:text-[#FFD700] transition-colors",children:e(q,{className:"text-xl"})}),e("h1",{className:"text-2xl font-bold text-white font-saiyan",children:"PRODUCT MANAGEMENT"})]}),a("button",{onClick:()=>S(!0),className:"bg-gradient-to-r from-orange-400 to-orange-600 text-white px-6 py-2 rounded-lg font-saiyan font-bold hover:scale-105 transition-all flex items-center space-x-2",children:[e($,{}),e("span",{children:"ADD PRODUCT"})]})]})})}),a("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[a("div",{className:"flex flex-col md:flex-row gap-4",children:[e("div",{className:"flex-1",children:a("div",{className:"relative",children:[e(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",placeholder:"Search products...",value:p,onChange:t=>h(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),a("select",{value:k,onChange:t=>u(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"all",children:"All Categories"}),T.map(t=>e("option",{value:t,children:t},t))]})]}),a("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",y.length," of ",c.length," products"]})]}),e("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:e("div",{className:"overflow-x-auto",children:a("table",{className:"w-full",children:[e("thead",{className:"bg-gray-50 border-b",children:a("tr",{children:[e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(t=>{const s=j(t);return a("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:a("div",{className:"flex items-center",children:[e("div",{className:"flex-shrink-0 h-12 w-12",children:e("img",{className:"h-12 w-12 rounded-lg object-cover",src:t.image,alt:t.name,onError:i=>{i.target.src="/api/placeholder/48/48"}})}),a("div",{className:"ml-4",children:[e("div",{className:"text-sm font-medium text-gray-900 font-saiyan",children:t.name}),a("div",{className:"text-sm text-gray-500",children:["PL: ",(t.powerLevel||t.power_level||0).toLocaleString()]})]})]})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.category})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-saiyan",children:e(D,{value:parseFloat(t.price||0)})}),a("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[t.stock," units"]}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.color}`,children:s.text})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a("div",{className:"flex space-x-2",children:[e("button",{onClick:()=>x(`/product/${t.slug}`),className:"text-blue-600 hover:text-blue-900",title:"View Product",children:e(z,{})}),e("button",{onClick:()=>R(t),className:"text-orange-600 hover:text-orange-900",title:"Edit Product",children:e(J,{})}),e("button",{onClick:()=>F(t.id),className:"text-red-600 hover:text-red-900",title:"Delete Product",children:e(B,{})})]})})]},t.id)})})]})})}),y.length===0&&a("div",{className:"text-center py-12",children:[e(U,{className:"text-6xl text-gray-300 mx-auto mb-4"}),e("h3",{className:"text-xl font-bold text-gray-800 font-saiyan mb-2",children:"No products found"}),e("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria"})]})]}),f&&e(K,{onSave:_,onCancel:()=>S(!1)}),A&&r&&e(Y,{product:r,onSave:I,onCancel:()=>{l(!1),o(null)}})]}):e("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:a("div",{className:"text-center",children:[e("div",{className:"text-6xl mb-4",children:"🚫"}),e("h2",{className:"text-2xl font-bold text-gray-800 font-saiyan mb-4",children:"ACCESS DENIED"}),e("p",{className:"text-gray-600 mb-6",children:"You don't have admin privileges."}),e("button",{onClick:()=>x("/"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-saiyan hover:bg-blue-700",children:"GO HOME"})]})}):e("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:a("div",{className:"text-center",children:[e("div",{className:"animate-spin w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full mx-auto mb-4"}),e("p",{className:"text-gray-600 font-saiyan",children:"CHECKING AUTHENTICATION..."})]})})}function K({onSave:n,onCancel:x}){const[c,d]=g.useState({name:"",description:"",price:"",category:"Battle Gear",stock:"",powerLevel:"",inStock:!0}),[C,v]=g.useState([]),[b,N]=g.useState(""),[p,h]=g.useState([]),k=l=>{l.preventDefault(),n({...c,price:parseFloat(c.price),stock:parseInt(c.stock),powerLevel:parseInt(c.powerLevel)||0,imageFiles:C,imageUrl:p.length?p[0]:b,imageUrls:p})},u=(l,r)=>{d(o=>({...o,[l]:r}))},f=()=>{b.trim()&&(h(l=>[...l,b.trim()]),N(""))},S=l=>{h(r=>r.filter((o,y)=>y!==l))},A=l=>{v(r=>r.filter((o,y)=>y!==l))};return e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a("div",{className:"bg-white rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e("h3",{className:"text-2xl font-bold text-gray-800 font-saiyan mb-6",children:"ADD NEW PRODUCT"}),a("form",{onSubmit:k,className:"space-y-4",children:[a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"PRODUCT NAME"}),e("input",{type:"text",value:c.name,onChange:l=>u("name",l.target.value),placeholder:"Enter product name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-saiyan",required:!0})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"DESCRIPTION"}),e("textarea",{value:c.description,onChange:l=>u("description",l.target.value),placeholder:"Enter product description",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-24 resize-none",required:!0})]}),a("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"PRICE ($)"}),e("input",{type:"number",step:"0.01",value:c.price,onChange:l=>u("price",l.target.value),placeholder:"0.00",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-saiyan",required:!0})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"STOCK"}),e("input",{type:"number",value:c.stock,onChange:l=>u("stock",l.target.value),placeholder:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-saiyan",required:!0})]})]}),a("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"CATEGORY"}),a("select",{value:c.category,onChange:l=>u("category",l.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-saiyan",required:!0,children:[e("option",{value:"Battle Gear",children:"Battle Gear"}),e("option",{value:"Training",children:"Training"}),e("option",{value:"Technology",children:"Technology"}),e("option",{value:"Capsules",children:"Capsules"})]})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"POWER LEVEL"}),e("input",{type:"number",value:c.powerLevel,onChange:l=>u("powerLevel",l.target.value),placeholder:"9000",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-saiyan"})]})]}),a("div",{className:"flex items-center space-x-3",children:[e("input",{type:"checkbox",id:"inStockAdd",checked:c.inStock,onChange:l=>u("inStock",l.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e("label",{htmlFor:"inStockAdd",className:"text-sm font-saiyan text-gray-700",children:"IN STOCK"})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"IMAGE (file upload) — you can select multiple"}),e("input",{type:"file",accept:"image/*",multiple:!0,onChange:l=>v(l.target.files?Array.from(l.target.files):[]),className:"w-full"}),e("p",{className:"text-xs text-gray-500 mt-1",children:'Or paste an image URL below and click "Add to Gallery".'}),a("div",{className:"flex gap-2 mt-2",children:[e("input",{type:"text",value:b,onChange:l=>N(l.target.value),placeholder:"https://...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"}),e("button",{type:"button",onClick:f,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Add to Gallery"})]}),C.length>0&&a("div",{className:"mt-3",children:[e("p",{className:"text-sm font-saiyan text-gray-700 mb-2",children:"Files to upload:"}),e("div",{className:"grid grid-cols-3 gap-2",children:C.map((l,r)=>a("div",{className:"relative border border-gray-300 rounded-lg p-2 bg-gray-50",children:[e("button",{type:"button",onClick:()=>A(r),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center hover:bg-red-600",children:"×"}),e("p",{className:"text-xs text-gray-600 truncate pr-6",children:l.name})]},r))})]}),p.length>0&&a("div",{className:"mt-3",children:[e("p",{className:"text-sm font-saiyan text-gray-700 mb-2",children:"Image URLs:"}),e("div",{className:"grid grid-cols-2 gap-2",children:p.map((l,r)=>a("div",{className:"relative border border-gray-300 rounded-lg overflow-hidden",children:[e("button",{type:"button",onClick:()=>S(r),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 z-10",children:"×"}),e("img",{src:l,alt:`Preview ${r+1}`,className:"w-full h-24 object-cover"})]},r))})]})]}),a("div",{className:"flex space-x-3 pt-4",children:[e("button",{type:"button",onClick:x,className:"flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg font-saiyan font-bold hover:bg-gray-400 transition-colors",children:"CANCEL"}),e("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-orange-400 to-orange-600 text-white py-3 px-4 rounded-lg font-saiyan font-bold hover:scale-105 transition-all",children:"CREATE PRODUCT"})]})]})]})})}function Y({product:n,onSave:x,onCancel:c}){const[d,C]=g.useState({name:n.name,description:n.description,price:n.price,category:n.category,stock:n.stock,powerLevel:n.powerLevel||n.power_level||0,inStock:n.inStock!==void 0?n.inStock:n.in_stock}),[v,b]=g.useState([]),[N,p]=g.useState(""),[h,k]=g.useState(n.gallery||[]),u=r=>{r.preventDefault(),x({...n,...d,price:parseFloat(d.price),stock:parseInt(d.stock),powerLevel:parseInt(d.powerLevel),originalPrice:n.originalPrice||n.original_price||d.price,slug:n.slug,image:h.length?h[0]:n.image,imageFiles:v,gallery:h,imageUrls:h,featured:n.featured||!1,tags:n.tags||[],specifications:n.specifications||{}})},f=(r,o)=>{C(y=>({...y,[r]:o}))},S=()=>{N.trim()&&(k(r=>[...r,N.trim()]),p(""))},A=r=>{k(o=>o.filter((y,T)=>T!==r))},l=r=>{b(o=>o.filter((y,T)=>T!==r))};return e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a("div",{className:"bg-white rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e("h3",{className:"text-2xl font-bold text-gray-800 font-saiyan mb-6",children:"EDIT PRODUCT"}),a("form",{onSubmit:u,className:"space-y-4",children:[a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"PRODUCT NAME"}),e("input",{type:"text",value:d.name,onChange:r=>f("name",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-saiyan",required:!0})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"DESCRIPTION"}),e("textarea",{value:d.description,onChange:r=>f("description",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-24 resize-none",required:!0})]}),a("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"PRICE ($)"}),e("input",{type:"number",step:"0.01",value:d.price,onChange:r=>f("price",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-saiyan",required:!0})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"STOCK"}),e("input",{type:"number",value:d.stock,onChange:r=>f("stock",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-saiyan",required:!0})]})]}),a("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"CATEGORY"}),a("select",{value:d.category,onChange:r=>f("category",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-saiyan",required:!0,children:[e("option",{value:"Battle Gear",children:"Battle Gear"}),e("option",{value:"Training",children:"Training"}),e("option",{value:"Technology",children:"Technology"}),e("option",{value:"Capsules",children:"Capsules"})]})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"POWER LEVEL"}),e("input",{type:"number",value:d.powerLevel,onChange:r=>f("powerLevel",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-saiyan"})]})]}),a("div",{className:"flex items-center space-x-3",children:[e("input",{type:"checkbox",id:"inStock",checked:d.inStock,onChange:r=>f("inStock",r.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e("label",{htmlFor:"inStock",className:"text-sm font-saiyan text-gray-700",children:"IN STOCK"})]}),a("div",{children:[e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"MANAGE GALLERY — Add or Remove Images"}),h.length>0&&a("div",{className:"mb-4",children:[a("p",{className:"text-sm font-saiyan text-gray-700 mb-2",children:["Current Gallery (",h.length," images):"]}),e("div",{className:"grid grid-cols-3 gap-2",children:h.map((r,o)=>a("div",{className:"relative border border-gray-300 rounded-lg overflow-hidden",children:[e("button",{type:"button",onClick:()=>A(o),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 z-10 text-sm font-bold",children:"×"}),e("img",{src:r,alt:`Gallery ${o+1}`,className:"w-full h-24 object-cover"}),o===0&&e("div",{className:"absolute bottom-0 left-0 right-0 bg-blue-500 bg-opacity-75 text-white text-xs text-center py-1",children:"Main Image"})]},o))})]}),e("label",{className:"block text-sm font-saiyan text-gray-700 mb-2",children:"Upload files (multiple)"}),e("input",{type:"file",accept:"image/*",multiple:!0,onChange:r=>b(r.target.files?Array.from(r.target.files):[]),className:"w-full"}),v.length>0&&a("div",{className:"mt-3",children:[e("p",{className:"text-sm font-saiyan text-gray-700 mb-2",children:"Files to upload:"}),e("div",{className:"grid grid-cols-3 gap-2",children:v.map((r,o)=>a("div",{className:"relative border border-gray-300 rounded-lg p-2 bg-gray-50",children:[e("button",{type:"button",onClick:()=>l(o),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center hover:bg-red-600",children:"×"}),e("p",{className:"text-xs text-gray-600 truncate pr-6",children:r.name})]},o))})]}),e("p",{className:"text-xs text-gray-500 mt-2",children:'Or paste an image URL below and click "Add to Gallery".'}),a("div",{className:"flex gap-2 mt-2",children:[e("input",{type:"text",value:N,onChange:r=>p(r.target.value),placeholder:"https://...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"}),e("button",{type:"button",onClick:S,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Add to Gallery"})]})]}),a("div",{className:"flex space-x-3 pt-4",children:[e("button",{type:"button",onClick:c,className:"flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg font-saiyan font-bold hover:bg-gray-400 transition-colors",children:"CANCEL"}),e("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-orange-400 to-orange-600 text-white py-3 px-4 rounded-lg font-saiyan font-bold hover:scale-105 transition-all",children:"UPDATE PRODUCT"})]})]})]})})}export{Q as default};
