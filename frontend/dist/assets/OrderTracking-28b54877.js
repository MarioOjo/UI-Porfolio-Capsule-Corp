import{r as d,o as k,a as e,j as r,I as O,ap as j,a8 as b,aq as x,h as T,m as f,P as F,am as C}from"./index-69bf95fe.js";import{P as l}from"./Price-711279c4.js";const D=()=>{var p;const[i,N]=d.useState(""),[t,c]=d.useState(null),[o,u]=d.useState(!1),[g,y]=d.useState(!1),{addNotification:m}=k(),v=async a=>{if(a.preventDefault(),!i.trim()){m("Please enter an order number","error");return}u(!0),y(!0);try{const s=await T(`/api/orders/number/${i.trim()}`);s.success?c(s.order):(c(null),m("Order not found","error"))}catch(s){console.error("Error fetching order:",s),c(null),m("Order not found. Please check your order number.","error")}finally{u(!1)}},h=a=>{switch(a){case"pending":return e(f,{className:"text-yellow-500"});case"processing":return e(C,{className:"text-blue-500"});case"shipped":return e(b,{className:"text-purple-500"});case"delivered":return e(F,{className:"text-green-500"});case"cancelled":return e(x,{className:"text-red-500"});default:return e(f,{className:"text-gray-500"})}},w=a=>{switch(a){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"processing":return"bg-blue-100 text-blue-800 border-blue-300";case"shipped":return"bg-purple-100 text-purple-800 border-purple-300";case"delivered":return"bg-green-100 text-green-800 border-green-300";case"cancelled":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},S=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),n=a=>{if(a.metadata)try{const s=JSON.parse(a.metadata);return{tracking_number:s.tracking_number,carrier:s.carrier}}catch{return{}}return{}};return e("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50 py-12 px-4",children:r("div",{className:"max-w-4xl mx-auto",children:[r("div",{className:"text-center mb-8",children:[e("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Track Your Order"}),e("p",{className:"text-gray-600",children:"Enter your order number to check the status"})]}),e("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:r("form",{onSubmit:v,className:"flex gap-4",children:[e("div",{className:"flex-1",children:e("input",{type:"text",value:i,onChange:a=>N(a.target.value),placeholder:"Enter order number (e.g., ORD-1234567890)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),r("button",{type:"submit",disabled:o,className:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e(O,{}),o?"Searching...":"Track Order"]})]})}),g&&!o&&e(j,{children:t?r("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[e("div",{className:"bg-gradient-to-r from-orange-500 to-blue-500 text-white p-6",children:r("div",{className:"flex justify-between items-start",children:[r("div",{children:[r("h2",{className:"text-2xl font-bold mb-2",children:["Order #",t.order_number]}),r("p",{className:"opacity-90",children:["Placed on ",S(t.placed_at)]})]}),r("div",{className:`px-4 py-2 rounded-full border-2 flex items-center gap-2 ${w(t.status)}`,children:[h(t.status),e("span",{className:"font-semibold capitalize",children:t.status})]})]})}),e("div",{className:"p-6 bg-gray-50",children:r("div",{className:"flex justify-between items-center relative",children:[e("div",{className:"absolute top-5 left-0 right-0 h-1 bg-gray-200 -z-10"}),e("div",{className:"absolute top-5 left-0 h-1 bg-gradient-to-r from-orange-500 to-blue-500 transition-all duration-500 -z-10",style:{width:t.status==="pending"?"0%":t.status==="processing"?"33%":t.status==="shipped"?"66%":t.status==="delivered"?"100%":"0%"}}),["pending","processing","shipped","delivered"].map((a,s)=>r("div",{className:"flex flex-col items-center",children:[e("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-xl ${t.status===a||a==="pending"&&t.status||a==="processing"&&["shipped","delivered"].includes(t.status)||a==="shipped"&&t.status==="delivered"?"bg-gradient-to-r from-orange-500 to-blue-500 text-white":"bg-white border-2 border-gray-300 text-gray-400"}`,children:h(a)}),e("span",{className:"mt-2 text-sm font-medium capitalize",children:a})]},a))]})}),n(t).tracking_number&&r("div",{className:"p-6 border-t border-gray-200",children:[r("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e(b,{className:"text-purple-500"}),"Shipping Information"]}),e("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:r("div",{className:"grid md:grid-cols-2 gap-4",children:[r("div",{children:[e("p",{className:"text-sm text-gray-600",children:"Tracking Number"}),e("p",{className:"font-mono font-semibold",children:n(t).tracking_number})]}),n(t).carrier&&r("div",{children:[e("p",{className:"text-sm text-gray-600",children:"Carrier"}),e("p",{className:"font-semibold",children:n(t).carrier})]})]})})]}),r("div",{className:"p-6 border-t border-gray-200",children:[e("h3",{className:"text-lg font-semibold mb-4",children:"Order Items"}),e("div",{className:"space-y-3",children:(p=t.items)==null?void 0:p.map((a,s)=>r("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[r("div",{children:[e("p",{className:"font-medium",children:a.product_name}),r("p",{className:"text-sm text-gray-600",children:["Quantity: ",a.quantity]})]}),e("p",{className:"font-semibold",children:e(l,{value:Number(a.total)})})]},s))})]}),e("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:r("div",{className:"max-w-sm ml-auto space-y-2",children:[r("div",{className:"flex justify-between text-gray-600",children:[e("span",{children:"Subtotal"}),e("span",{children:e(l,{value:Number(t.subtotal)})})]}),r("div",{className:"flex justify-between text-gray-600",children:[e("span",{children:"Shipping"}),e("span",{children:e(l,{value:Number(t.shipping||0)})})]}),r("div",{className:"flex justify-between text-gray-600",children:[e("span",{children:"Tax"}),e("span",{children:e(l,{value:Number(t.tax||0)})})]}),r("div",{className:"flex justify-between text-xl font-bold text-gray-900 pt-2 border-t-2 border-gray-300",children:[e("span",{children:"Total"}),e("span",{children:e(l,{value:Number(t.total)})})]})]})})]}):r("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[e(x,{className:"text-6xl text-red-500 mx-auto mb-4"}),e("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order Not Found"}),e("p",{className:"text-gray-600",children:"We couldn't find an order with that number. Please check your order number and try again."})]})}),!g&&e("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:r("p",{className:"text-blue-800",children:["ðŸ’¡ ",e("strong",{children:"Tip:"})," You can find your order number in the confirmation email we sent you after purchase."]})})]})})};export{D as default};
